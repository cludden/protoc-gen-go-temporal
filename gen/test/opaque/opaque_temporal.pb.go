// Code generated by protoc-gen-go_temporal. DO NOT EDIT.
// versions:
//
//	protoc-gen-go_temporal dev (latest)
//	protoc (unknown)
//
// source: test/opaque/opaque.proto
package opaque

import (
	"bytes"
	"context"
	"encoding/base64"
	"encoding/json"
	"errors"
	"fmt"
	convert "github.com/cludden/protoc-gen-go-temporal/pkg/convert"
	helpers "github.com/cludden/protoc-gen-go-temporal/pkg/helpers"
	scheme "github.com/cludden/protoc-gen-go-temporal/pkg/scheme"
	gohomedir "github.com/mitchellh/go-homedir"
	v2 "github.com/urfave/cli/v2"
	enumsv1 "go.temporal.io/api/enums/v1"
	client "go.temporal.io/sdk/client"
	converter "go.temporal.io/sdk/converter"
	temporal "go.temporal.io/sdk/temporal"
	testsuite "go.temporal.io/sdk/testsuite"
	worker "go.temporal.io/sdk/worker"
	workflow "go.temporal.io/sdk/workflow"
	protojson "google.golang.org/protobuf/encoding/protojson"
	protoreflect "google.golang.org/protobuf/reflect/protoreflect"
	"log/slog"
	"os"
	"sort"
	"strconv"
	"sync"
	"sync/atomic"
	"time"
)

// OpaqueTaskQueue is the default task-queue for a test.opaque.Opaque worker
var OpaqueTaskQueue = "opaque-opaque"

// test.opaque.Opaque workflow names
const (
	PutOpaqueExampleWorkflowName = "test.opaque.Opaque.PutOpaqueExample"
)

// test.opaque.Opaque signal names
const (
	SignalOpaqueSignalName = "test.opaque.Opaque.SignalOpaque"
)

// OpaqueClient describes a client for a(n) test.opaque.Opaque worker
type OpaqueClient interface {
	// PutOpaqueExample executes a(n) test.opaque.Opaque.PutOpaqueExample workflow and blocks until error or response received
	PutOpaqueExample(ctx context.Context, req *OpaqueExample, opts ...*PutOpaqueExampleOptions) (*OpaqueExample, error)

	// PutOpaqueExampleAsync starts a(n) test.opaque.Opaque.PutOpaqueExample workflow and returns a handle to the workflow run
	PutOpaqueExampleAsync(ctx context.Context, req *OpaqueExample, opts ...*PutOpaqueExampleOptions) (PutOpaqueExampleRun, error)

	// GetPutOpaqueExample retrieves a handle to an existing test.opaque.Opaque.PutOpaqueExample workflow execution
	GetPutOpaqueExample(ctx context.Context, workflowID string, runID string) PutOpaqueExampleRun

	// PutOpaqueExampleWithSignalOpaque sends a(n) test.opaque.Opaque.SignalOpaque signal to a(n) test.opaque.Opaque.PutOpaqueExample workflow, starting it if necessary, and blocks until workflow completion
	PutOpaqueExampleWithSignalOpaque(ctx context.Context, req *OpaqueExample, signal *OpaqueExample, opts ...*PutOpaqueExampleOptions) (*OpaqueExample, error)

	// PutOpaqueExampleWithSignalOpaqueAsync sends a(n) test.opaque.Opaque.SignalOpaque signal to a(n) test.opaque.Opaque.PutOpaqueExample workflow, starting it if necessary, and returns a handle to the workflow execution
	PutOpaqueExampleWithSignalOpaqueAsync(ctx context.Context, req *OpaqueExample, signal *OpaqueExample, opts ...*PutOpaqueExampleOptions) (PutOpaqueExampleRun, error)

	// CancelWorkflow requests cancellation of an existing workflow execution
	CancelWorkflow(ctx context.Context, workflowID string, runID string) error

	// TerminateWorkflow an existing workflow execution
	TerminateWorkflow(ctx context.Context, workflowID string, runID string, reason string, details ...interface{}) error

	// test.opaque.Opaque.SignalOpaque sends a(n) test.opaque.Opaque.SignalOpaque signal
	SignalOpaque(ctx context.Context, workflowID string, runID string, signal *OpaqueExample) error
}

// opaqueClient implements a temporal client for a test.opaque.Opaque service
type opaqueClient struct {
	client client.Client
	log    *slog.Logger
}

// NewOpaqueClient initializes a new test.opaque.Opaque client
func NewOpaqueClient(c client.Client, options ...*opaqueClientOptions) OpaqueClient {
	var cfg *opaqueClientOptions
	if len(options) > 0 {
		cfg = options[0]
	} else {
		cfg = NewOpaqueClientOptions()
	}
	return &opaqueClient{
		client: c,
		log:    cfg.getLogger(),
	}
}

// NewOpaqueClientWithOptions initializes a new Opaque client with the given options
func NewOpaqueClientWithOptions(c client.Client, opts client.Options, options ...*opaqueClientOptions) (OpaqueClient, error) {
	var err error
	c, err = client.NewClientFromExisting(c, opts)
	if err != nil {
		return nil, fmt.Errorf("error initializing client with options: %w", err)
	}
	var cfg *opaqueClientOptions
	if len(options) > 0 {
		cfg = options[0]
	} else {
		cfg = NewOpaqueClientOptions()
	}
	return &opaqueClient{
		client: c,
		log:    cfg.getLogger(),
	}, nil
}

// opaqueClientOptions describes optional runtime configuration for a OpaqueClient
type opaqueClientOptions struct {
	log *slog.Logger
}

// NewOpaqueClientOptions initializes a new opaqueClientOptions value
func NewOpaqueClientOptions() *opaqueClientOptions {
	return &opaqueClientOptions{}
}

// WithLogger can be used to override the default logger
func (opts *opaqueClientOptions) WithLogger(l *slog.Logger) *opaqueClientOptions {
	if l != nil {
		opts.log = l
	}
	return opts
}

// getLogger returns the configured logger, or the default logger
func (opts *opaqueClientOptions) getLogger() *slog.Logger {
	if opts != nil && opts.log != nil {
		return opts.log
	}
	return slog.Default()
}

// test.opaque.Opaque.PutOpaqueExample executes a test.opaque.Opaque.PutOpaqueExample workflow and blocks until error or response received
func (c *opaqueClient) PutOpaqueExample(ctx context.Context, req *OpaqueExample, options ...*PutOpaqueExampleOptions) (*OpaqueExample, error) {
	run, err := c.PutOpaqueExampleAsync(ctx, req, options...)
	if err != nil {
		return nil, err
	}
	return run.Get(ctx)
}

// PutOpaqueExampleAsync starts a(n) test.opaque.Opaque.PutOpaqueExample workflow and returns a handle to the workflow run
func (c *opaqueClient) PutOpaqueExampleAsync(ctx context.Context, req *OpaqueExample, options ...*PutOpaqueExampleOptions) (PutOpaqueExampleRun, error) {
	var o *PutOpaqueExampleOptions
	if len(options) > 0 && options[0] != nil {
		o = options[0]
	} else {
		o = NewPutOpaqueExampleOptions()
	}
	opts, err := o.Build(req.ProtoReflect())
	if err != nil {
		return nil, fmt.Errorf("error initializing client.StartWorkflowOptions: %w", err)
	}
	run, err := c.client.ExecuteWorkflow(ctx, opts, PutOpaqueExampleWorkflowName, req)
	if err != nil {
		return nil, err
	}
	if run == nil {
		return nil, errors.New("execute workflow returned nil run")
	}
	return &putOpaqueExampleRun{
		client: c,
		run:    run,
	}, nil
}

// GetPutOpaqueExample fetches an existing test.opaque.Opaque.PutOpaqueExample execution
func (c *opaqueClient) GetPutOpaqueExample(ctx context.Context, workflowID string, runID string) PutOpaqueExampleRun {
	return &putOpaqueExampleRun{
		client: c,
		run:    c.client.GetWorkflow(ctx, workflowID, runID),
	}
}

// PutOpaqueExampleWithSignalOpaque starts a(n) test.opaque.Opaque.PutOpaqueExample workflow and sends a(n) test.opaque.Opaque.SignalOpaque signal in a transaction
func (c *opaqueClient) PutOpaqueExampleWithSignalOpaque(ctx context.Context, req *OpaqueExample, signal *OpaqueExample, options ...*PutOpaqueExampleOptions) (*OpaqueExample, error) {
	run, err := c.PutOpaqueExampleWithSignalOpaqueAsync(ctx, req, signal, options...)
	if err != nil {
		return nil, err
	}
	return run.Get(ctx)
}

// PutOpaqueExampleWithSignalOpaqueAsync starts a(n) test.opaque.Opaque.PutOpaqueExample workflow and sends a(n) test.opaque.Opaque.SignalOpaque signal in a transaction
func (c *opaqueClient) PutOpaqueExampleWithSignalOpaqueAsync(ctx context.Context, req *OpaqueExample, signal *OpaqueExample, options ...*PutOpaqueExampleOptions) (PutOpaqueExampleRun, error) {
	var o *PutOpaqueExampleOptions
	if len(options) > 0 && options[0] != nil {
		o = options[0]
	} else {
		o = NewPutOpaqueExampleOptions()
	}
	opts, err := o.Build(req.ProtoReflect())
	if err != nil {
		return nil, fmt.Errorf("error initializing client.StartWorkflowOptions: %w", err)
	}
	run, err := c.client.SignalWithStartWorkflow(ctx, opts.ID, SignalOpaqueSignalName, signal, opts, PutOpaqueExampleWorkflowName, req)
	if run == nil || err != nil {
		return nil, err
	}
	return &putOpaqueExampleRun{
		client: c,
		run:    run,
	}, nil
}

// CancelWorkflow requests cancellation of an existing workflow execution
func (c *opaqueClient) CancelWorkflow(ctx context.Context, workflowID string, runID string) error {
	return c.client.CancelWorkflow(ctx, workflowID, runID)
}

// TerminateWorkflow terminates an existing workflow execution
func (c *opaqueClient) TerminateWorkflow(ctx context.Context, workflowID string, runID string, reason string, details ...interface{}) error {
	return c.client.TerminateWorkflow(ctx, workflowID, runID, reason, details...)
}

// test.opaque.Opaque.SignalOpaque sends a(n) test.opaque.Opaque.SignalOpaque signal to an existing workflow
func (c *opaqueClient) SignalOpaque(ctx context.Context, workflowID string, runID string, signal *OpaqueExample) error {
	return c.client.SignalWorkflow(ctx, workflowID, runID, SignalOpaqueSignalName, signal)
}

// PutOpaqueExampleOptions provides configuration for a test.opaque.Opaque.PutOpaqueExample workflow operation
type PutOpaqueExampleOptions struct {
	options                  client.StartWorkflowOptions
	executionTimeout         *time.Duration
	id                       *string
	idReusePolicy            enumsv1.WorkflowIdReusePolicy
	retryPolicy              *temporal.RetryPolicy
	runTimeout               *time.Duration
	searchAttributes         map[string]any
	taskQueue                *string
	taskTimeout              *time.Duration
	workflowIdConflictPolicy enumsv1.WorkflowIdConflictPolicy
}

// NewPutOpaqueExampleOptions initializes a new PutOpaqueExampleOptions value
func NewPutOpaqueExampleOptions() *PutOpaqueExampleOptions {
	return &PutOpaqueExampleOptions{}
}

// Build initializes a new go.temporal.io/sdk/client.StartWorkflowOptions value with defaults and overrides applied
func (o *PutOpaqueExampleOptions) Build(req protoreflect.Message) (client.StartWorkflowOptions, error) {
	opts := o.options
	if v := o.id; v != nil {
		opts.ID = *v
	}
	if v := o.idReusePolicy; v != enumsv1.WORKFLOW_ID_REUSE_POLICY_UNSPECIFIED {
		opts.WorkflowIDReusePolicy = v
	}
	if v := o.workflowIdConflictPolicy; v != enumsv1.WORKFLOW_ID_CONFLICT_POLICY_UNSPECIFIED {
		opts.WorkflowIDConflictPolicy = v
	}
	if v := o.taskQueue; v != nil {
		opts.TaskQueue = *v
	} else if opts.TaskQueue == "" {
		opts.TaskQueue = OpaqueTaskQueue
	}
	if v := o.retryPolicy; v != nil {
		opts.RetryPolicy = v
	}
	if v := o.searchAttributes; v != nil {
		opts.SearchAttributes = o.searchAttributes
	}
	if v := o.executionTimeout; v != nil {
		opts.WorkflowExecutionTimeout = *v
	}
	if v := o.runTimeout; v != nil {
		opts.WorkflowRunTimeout = *v
	}
	if v := o.taskTimeout; v != nil {
		opts.WorkflowTaskTimeout = *v
	}
	return opts, nil
}

// WithStartWorkflowOptions sets the initial go.temporal.io/sdk/client.StartWorkflowOptions
func (o *PutOpaqueExampleOptions) WithStartWorkflowOptions(options client.StartWorkflowOptions) *PutOpaqueExampleOptions {
	o.options = options
	return o
}

// WithExecutionTimeout sets the WorkflowExecutionTimeout value
func (o *PutOpaqueExampleOptions) WithExecutionTimeout(d time.Duration) *PutOpaqueExampleOptions {
	o.executionTimeout = &d
	return o
}

// WithID sets the ID value
func (o *PutOpaqueExampleOptions) WithID(id string) *PutOpaqueExampleOptions {
	o.id = &id
	return o
}

// WithIDReusePolicy sets the WorkflowIDReusePolicy value
func (o *PutOpaqueExampleOptions) WithIDReusePolicy(policy enumsv1.WorkflowIdReusePolicy) *PutOpaqueExampleOptions {
	o.idReusePolicy = policy
	return o
}

// WithRetryPolicy sets the RetryPolicy value
func (o *PutOpaqueExampleOptions) WithRetryPolicy(policy *temporal.RetryPolicy) *PutOpaqueExampleOptions {
	o.retryPolicy = policy
	return o
}

// WithRunTimeout sets the WorkflowRunTimeout value
func (o *PutOpaqueExampleOptions) WithRunTimeout(d time.Duration) *PutOpaqueExampleOptions {
	o.runTimeout = &d
	return o
}

// WithSearchAttributes sets the SearchAttributes value
func (o *PutOpaqueExampleOptions) WithSearchAttributes(sa map[string]any) *PutOpaqueExampleOptions {
	o.searchAttributes = sa
	return o
}

// WithTaskTimeout sets the WorkflowTaskTimeout value
func (o *PutOpaqueExampleOptions) WithTaskTimeout(d time.Duration) *PutOpaqueExampleOptions {
	o.taskTimeout = &d
	return o
}

// WithTaskQueue sets the TaskQueue value
func (o *PutOpaqueExampleOptions) WithTaskQueue(tq string) *PutOpaqueExampleOptions {
	o.taskQueue = &tq
	return o
}

// WithWorkflowIdConflictPolicy sets the WorkflowIdConflictPolicy value
func (o *PutOpaqueExampleOptions) WithWorkflowIdConflictPolicy(policy enumsv1.WorkflowIdConflictPolicy) *PutOpaqueExampleOptions {
	o.workflowIdConflictPolicy = policy
	return o
}

// PutOpaqueExampleRun describes a(n) test.opaque.Opaque.PutOpaqueExample workflow run
type PutOpaqueExampleRun interface {
	// ID returns the workflow ID
	ID() string

	// RunID returns the workflow instance ID
	RunID() string

	// Run returns the inner client.WorkflowRun
	Run() client.WorkflowRun

	// Get blocks until the workflow is complete and returns the result
	Get(ctx context.Context) (*OpaqueExample, error)

	// Cancel requests cancellation of a workflow in execution, returning an error if applicable
	Cancel(ctx context.Context) error

	// Terminate terminates a workflow in execution, returning an error if applicable
	Terminate(ctx context.Context, reason string, details ...interface{}) error

	// test.opaque.Opaque.SignalOpaque sends a(n) test.opaque.Opaque.SignalOpaque signal
	SignalOpaque(ctx context.Context, req *OpaqueExample) error
}

// putOpaqueExampleRun provides an internal implementation of a(n) PutOpaqueExampleRunRun
type putOpaqueExampleRun struct {
	client *opaqueClient
	run    client.WorkflowRun
}

// ID returns the workflow ID
func (r *putOpaqueExampleRun) ID() string {
	return r.run.GetID()
}

// Run returns the inner client.WorkflowRun
func (r *putOpaqueExampleRun) Run() client.WorkflowRun {
	return r.run
}

// RunID returns the execution ID
func (r *putOpaqueExampleRun) RunID() string {
	return r.run.GetRunID()
}

// Cancel requests cancellation of a workflow in execution, returning an error if applicable
func (r *putOpaqueExampleRun) Cancel(ctx context.Context) error {
	return r.client.CancelWorkflow(ctx, r.ID(), r.RunID())
}

// Get blocks until the workflow is complete, returning the result if applicable
func (r *putOpaqueExampleRun) Get(ctx context.Context) (*OpaqueExample, error) {
	var resp OpaqueExample
	if err := r.run.Get(ctx, &resp); err != nil {
		return nil, err
	}
	return &resp, nil
}

// Terminate terminates a workflow in execution, returning an error if applicable
func (r *putOpaqueExampleRun) Terminate(ctx context.Context, reason string, details ...interface{}) error {
	return r.client.TerminateWorkflow(ctx, r.ID(), r.RunID(), reason, details...)
}

// test.opaque.Opaque.SignalOpaque sends a(n) test.opaque.Opaque.SignalOpaque signal
func (r *putOpaqueExampleRun) SignalOpaque(ctx context.Context, req *OpaqueExample) error {
	return r.client.SignalOpaque(ctx, r.ID(), "", req)
}

// Reference to generated workflow functions
var (
	// opaqueRegistrationMutex is a mutex for registering test.opaque.Opaque workflows
	opaqueRegistrationMutex sync.Mutex
	// PutOpaqueExampleFunction implements a "test.opaque.Opaque.PutOpaqueExample" workflow
	PutOpaqueExampleFunction func(workflow.Context, *OpaqueExample) (*OpaqueExample, error)
)

// OpaqueWorkflowFunctions describes a mockable dependency for inlining workflows within other workflows
type (
	// OpaqueWorkflowFunctions describes a mockable dependency for inlining workflows within other workflows
	OpaqueWorkflowFunctions interface {
		// PutOpaqueExample executes a "test.opaque.Opaque.PutOpaqueExample" workflow inline
		PutOpaqueExample(workflow.Context, *OpaqueExample) (*OpaqueExample, error)
	}
	// opaqueWorkflowFunctions provides an internal OpaqueWorkflowFunctions implementation
	opaqueWorkflowFunctions struct{}
)

func NewOpaqueWorkflowFunctions() OpaqueWorkflowFunctions {
	return &opaqueWorkflowFunctions{}
}

// PutOpaqueExample executes a "test.opaque.Opaque.PutOpaqueExample" workflow inline
func (f *opaqueWorkflowFunctions) PutOpaqueExample(ctx workflow.Context, req *OpaqueExample) (*OpaqueExample, error) {
	if PutOpaqueExampleFunction == nil {
		return nil, errors.New("PutOpaqueExample requires workflow registration via RegisterOpaqueWorkflows or RegisterPutOpaqueExampleWorkflow")
	}
	return PutOpaqueExampleFunction(ctx, req)
}

// OpaqueWorkflows provides methods for initializing new test.opaque.Opaque workflow values
type OpaqueWorkflows interface {
	// PutOpaqueExample initializes a new a(n) PutOpaqueExampleWorkflow implementation
	PutOpaqueExample(ctx workflow.Context, input *PutOpaqueExampleWorkflowInput) (PutOpaqueExampleWorkflow, error)
}

// RegisterOpaqueWorkflows registers test.opaque.Opaque workflows with the given worker
func RegisterOpaqueWorkflows(r worker.WorkflowRegistry, workflows OpaqueWorkflows) {
	RegisterPutOpaqueExampleWorkflow(r, workflows.PutOpaqueExample)
}

// RegisterPutOpaqueExampleWorkflow registers a test.opaque.Opaque.PutOpaqueExample workflow with the given worker
func RegisterPutOpaqueExampleWorkflow(r worker.WorkflowRegistry, wf func(workflow.Context, *PutOpaqueExampleWorkflowInput) (PutOpaqueExampleWorkflow, error)) {
	opaqueRegistrationMutex.Lock()
	defer opaqueRegistrationMutex.Unlock()
	PutOpaqueExampleFunction = buildPutOpaqueExample(wf)
	r.RegisterWorkflowWithOptions(PutOpaqueExampleFunction, workflow.RegisterOptions{Name: PutOpaqueExampleWorkflowName})
}

// buildPutOpaqueExample converts a PutOpaqueExample workflow struct into a valid workflow function
func buildPutOpaqueExample(ctor func(workflow.Context, *PutOpaqueExampleWorkflowInput) (PutOpaqueExampleWorkflow, error)) func(workflow.Context, *OpaqueExample) (*OpaqueExample, error) {
	return func(ctx workflow.Context, req *OpaqueExample) (*OpaqueExample, error) {
		input := &PutOpaqueExampleWorkflowInput{
			Req: req,
			SignalOpaque: &SignalOpaqueSignal{
				Channel: workflow.GetSignalChannel(ctx, SignalOpaqueSignalName),
			},
		}
		wf, err := ctor(ctx, input)
		if err != nil {
			return nil, err
		}
		if initializable, ok := wf.(helpers.Initializable); ok {
			if err := initializable.Initialize(ctx); err != nil {
				return nil, err
			}
		}
		return wf.Execute(ctx)
	}
}

// PutOpaqueExampleWorkflowInput describes the input to a(n) test.opaque.Opaque.PutOpaqueExample workflow constructor
type PutOpaqueExampleWorkflowInput struct {
	Req          *OpaqueExample
	SignalOpaque *SignalOpaqueSignal
}

// PutOpaqueExampleWorkflow describes a(n) test.opaque.Opaque.PutOpaqueExample workflow implementation
type PutOpaqueExampleWorkflow interface {
	// Execute defines the entrypoint to a(n) test.opaque.Opaque.PutOpaqueExample workflow
	Execute(ctx workflow.Context) (*OpaqueExample, error)
}

// PutOpaqueExampleChild executes a child test.opaque.Opaque.PutOpaqueExample workflow and blocks until error or response received
func PutOpaqueExampleChild(ctx workflow.Context, req *OpaqueExample, options ...*PutOpaqueExampleChildOptions) (*OpaqueExample, error) {
	childRun, err := PutOpaqueExampleChildAsync(ctx, req, options...)
	if err != nil {
		return nil, err
	}
	return childRun.Get(ctx)
}

// PutOpaqueExampleChildAsync starts a child test.opaque.Opaque.PutOpaqueExample workflow and returns a handle to the child workflow run
func PutOpaqueExampleChildAsync(ctx workflow.Context, req *OpaqueExample, options ...*PutOpaqueExampleChildOptions) (*PutOpaqueExampleChildRun, error) {
	var o *PutOpaqueExampleChildOptions
	if len(options) > 0 && options[0] != nil {
		o = options[0]
	} else {
		o = NewPutOpaqueExampleChildOptions()
	}
	opts, err := o.Build(ctx, req.ProtoReflect())
	if err != nil {
		return nil, fmt.Errorf("error initializing workflow.ChildWorkflowOptions: %w", err)
	}
	ctx = workflow.WithChildOptions(ctx, opts)
	if o.dc != nil {
		ctx = workflow.WithDataConverter(ctx, o.dc)
	}
	return &PutOpaqueExampleChildRun{Future: workflow.ExecuteChildWorkflow(ctx, PutOpaqueExampleWorkflowName, req)}, nil
}

// PutOpaqueExampleChildOptions provides configuration for a child test.opaque.Opaque.PutOpaqueExample workflow operation
type PutOpaqueExampleChildOptions struct {
	options                  workflow.ChildWorkflowOptions
	executionTimeout         *time.Duration
	id                       *string
	idReusePolicy            enumsv1.WorkflowIdReusePolicy
	retryPolicy              *temporal.RetryPolicy
	runTimeout               *time.Duration
	searchAttributes         map[string]any
	taskQueue                *string
	taskTimeout              *time.Duration
	workflowIdConflictPolicy enumsv1.WorkflowIdConflictPolicy
	dc                       converter.DataConverter
	parentClosePolicy        enumsv1.ParentClosePolicy
	waitForCancellation      *bool
}

// NewPutOpaqueExampleChildOptions initializes a new PutOpaqueExampleChildOptions value
func NewPutOpaqueExampleChildOptions() *PutOpaqueExampleChildOptions {
	return &PutOpaqueExampleChildOptions{}
}

// Build initializes a new go.temporal.io/sdk/workflow.ChildWorkflowOptions value with defaults and overrides applied
func (o *PutOpaqueExampleChildOptions) Build(ctx workflow.Context, req protoreflect.Message) (workflow.ChildWorkflowOptions, error) {
	opts := o.options
	if v := o.id; v != nil {
		opts.WorkflowID = *v
	}
	if v := o.idReusePolicy; v != enumsv1.WORKFLOW_ID_REUSE_POLICY_UNSPECIFIED {
		opts.WorkflowIDReusePolicy = v
	}
	if v := o.taskQueue; v != nil {
		opts.TaskQueue = *v
	} else if opts.TaskQueue == "" {
		opts.TaskQueue = OpaqueTaskQueue
	}
	if v := o.retryPolicy; v != nil {
		opts.RetryPolicy = v
	}
	if v := o.searchAttributes; v != nil {
		opts.SearchAttributes = o.searchAttributes
	}
	if v := o.executionTimeout; v != nil {
		opts.WorkflowExecutionTimeout = *v
	}
	if v := o.runTimeout; v != nil {
		opts.WorkflowRunTimeout = *v
	}
	if v := o.taskTimeout; v != nil {
		opts.WorkflowTaskTimeout = *v
	}
	if v := o.parentClosePolicy; v != enumsv1.PARENT_CLOSE_POLICY_UNSPECIFIED {
		opts.ParentClosePolicy = v
	}
	if v := o.waitForCancellation; v != nil {
		opts.WaitForCancellation = *v
	}
	return opts, nil
}

// WithChildWorkflowOptions sets the initial go.temporal.io/sdk/workflow.ChildWorkflowOptions
func (o *PutOpaqueExampleChildOptions) WithChildWorkflowOptions(options workflow.ChildWorkflowOptions) *PutOpaqueExampleChildOptions {
	o.options = options
	return o
}

// WithDataConverter registers a DataConverter for the child workflow
func (o *PutOpaqueExampleChildOptions) WithDataConverter(dc converter.DataConverter) *PutOpaqueExampleChildOptions {
	o.dc = dc
	return o
}

// WithExecutionTimeout sets the WorkflowExecutionTimeout value
func (o *PutOpaqueExampleChildOptions) WithExecutionTimeout(d time.Duration) *PutOpaqueExampleChildOptions {
	o.executionTimeout = &d
	return o
}

// WithID sets the WorkflowID value
func (o *PutOpaqueExampleChildOptions) WithID(id string) *PutOpaqueExampleChildOptions {
	o.id = &id
	return o
}

// WithIDReusePolicy sets the WorkflowIDReusePolicy value
func (o *PutOpaqueExampleChildOptions) WithIDReusePolicy(policy enumsv1.WorkflowIdReusePolicy) *PutOpaqueExampleChildOptions {
	o.idReusePolicy = policy
	return o
}

// WithParentClosePolicy sets the WorkflowIDReusePolicy value
func (o *PutOpaqueExampleChildOptions) WithParentClosePolicy(policy enumsv1.ParentClosePolicy) *PutOpaqueExampleChildOptions {
	o.parentClosePolicy = policy
	return o
}

// WithRetryPolicy sets the RetryPolicy value
func (o *PutOpaqueExampleChildOptions) WithRetryPolicy(policy *temporal.RetryPolicy) *PutOpaqueExampleChildOptions {
	o.retryPolicy = policy
	return o
}

// WithRunTimeout sets the WorkflowRunTimeout value
func (o *PutOpaqueExampleChildOptions) WithRunTimeout(d time.Duration) *PutOpaqueExampleChildOptions {
	o.runTimeout = &d
	return o
}

// WithSearchAttributes sets the SearchAttributes value
func (o *PutOpaqueExampleChildOptions) WithSearchAttributes(sa map[string]any) *PutOpaqueExampleChildOptions {
	o.searchAttributes = sa
	return o
}

// WithTaskTimeout sets the WorkflowTaskTimeout value
func (o *PutOpaqueExampleChildOptions) WithTaskTimeout(d time.Duration) *PutOpaqueExampleChildOptions {
	o.taskTimeout = &d
	return o
}

// WithTaskQueue sets the TaskQueue value
func (o *PutOpaqueExampleChildOptions) WithTaskQueue(tq string) *PutOpaqueExampleChildOptions {
	o.taskQueue = &tq
	return o
}

// WithWaitForCancellation sets the WaitForCancellation value
func (o *PutOpaqueExampleChildOptions) WithWaitForCancellation(wait bool) *PutOpaqueExampleChildOptions {
	o.waitForCancellation = &wait
	return o
}

// WithWorkflowIdConflictPolicy sets the WorkflowIdConflictPolicy value
func (o *PutOpaqueExampleChildOptions) WithWorkflowIdConflictPolicy(policy enumsv1.WorkflowIdConflictPolicy) *PutOpaqueExampleChildOptions {
	o.workflowIdConflictPolicy = policy
	return o
}

// PutOpaqueExampleChildRun describes a child PutOpaqueExample workflow run
type PutOpaqueExampleChildRun struct {
	Future workflow.ChildWorkflowFuture
}

// Get blocks until the workflow is completed, returning the response value
func (r *PutOpaqueExampleChildRun) Get(ctx workflow.Context) (*OpaqueExample, error) {
	var resp OpaqueExample
	if err := r.Future.Get(ctx, &resp); err != nil {
		return nil, err
	}
	return &resp, nil
}

// Select adds this completion to the selector. Callback can be nil.
func (r *PutOpaqueExampleChildRun) Select(sel workflow.Selector, fn func(*PutOpaqueExampleChildRun)) workflow.Selector {
	return sel.AddFuture(r.Future, func(workflow.Future) {
		if fn != nil {
			fn(r)
		}
	})
}

// SelectStart adds waiting for start to the selector. Callback can be nil.
func (r *PutOpaqueExampleChildRun) SelectStart(sel workflow.Selector, fn func(*PutOpaqueExampleChildRun)) workflow.Selector {
	return sel.AddFuture(r.Future.GetChildWorkflowExecution(), func(workflow.Future) {
		if fn != nil {
			fn(r)
		}
	})
}

// WaitStart waits for the child workflow to start
func (r *PutOpaqueExampleChildRun) WaitStart(ctx workflow.Context) (*workflow.Execution, error) {
	var exec workflow.Execution
	if err := r.Future.GetChildWorkflowExecution().Get(ctx, &exec); err != nil {
		return nil, err
	}
	return &exec, nil
}

// SignalOpaque sends a(n) "test.opaque.Opaque.SignalOpaque" signal request to the child workflow
func (r *PutOpaqueExampleChildRun) SignalOpaque(ctx workflow.Context, input *OpaqueExample) error {
	return r.SignalOpaqueAsync(ctx, input).Get(ctx, nil)
}

// SignalOpaqueAsync sends a(n) "test.opaque.Opaque.SignalOpaque" signal request to the child workflow
func (r *PutOpaqueExampleChildRun) SignalOpaqueAsync(ctx workflow.Context, input *OpaqueExample) workflow.Future {
	return r.Future.SignalChildWorkflow(ctx, SignalOpaqueSignalName, input)
}

// SignalOpaqueSignal describes a(n) test.opaque.Opaque.SignalOpaque signal
type SignalOpaqueSignal struct {
	Channel workflow.ReceiveChannel
}

// NewSignalOpaqueSignal initializes a new test.opaque.Opaque.SignalOpaque signal wrapper
func NewSignalOpaqueSignal(ctx workflow.Context) *SignalOpaqueSignal {
	return &SignalOpaqueSignal{Channel: workflow.GetSignalChannel(ctx, SignalOpaqueSignalName)}
}

// Receive blocks until a(n) test.opaque.Opaque.SignalOpaque signal is received
func (s *SignalOpaqueSignal) Receive(ctx workflow.Context) (*OpaqueExample, bool) {
	var resp OpaqueExample
	more := s.Channel.Receive(ctx, &resp)
	return &resp, more
}

// ReceiveAsync checks for a test.opaque.Opaque.SignalOpaque signal without blocking
func (s *SignalOpaqueSignal) ReceiveAsync() *OpaqueExample {
	var resp OpaqueExample
	if ok := s.Channel.ReceiveAsync(&resp); !ok {
		return nil
	}
	return &resp
}

// ReceiveWithTimeout blocks until a(n) test.opaque.Opaque.SignalOpaque signal is received or timeout expires.
// Returns more value of false when Channel is closed.
// Returns ok value of false when no value was found in the channel for the duration of timeout or the ctx was canceled.
// resp will be nil if ok is false.
func (s *SignalOpaqueSignal) ReceiveWithTimeout(ctx workflow.Context, timeout time.Duration) (resp *OpaqueExample, ok bool, more bool) {
	resp = &OpaqueExample{}
	if ok, more = s.Channel.ReceiveWithTimeout(ctx, timeout, &resp); !ok {
		return nil, false, more
	}
	return
}

// Select checks for a(n) test.opaque.Opaque.SignalOpaque signal without blocking
func (s *SignalOpaqueSignal) Select(sel workflow.Selector, fn func(*OpaqueExample)) workflow.Selector {
	return sel.AddReceive(s.Channel, func(workflow.ReceiveChannel, bool) {
		req := s.ReceiveAsync()
		if fn != nil {
			fn(req)
		}
	})
}

// SignalOpaqueExternal sends a(n) test.opaque.Opaque.SignalOpaque signal to an existing workflow
func SignalOpaqueExternal(ctx workflow.Context, workflowID string, runID string, req *OpaqueExample) error {
	return SignalOpaqueExternalAsync(ctx, workflowID, runID, req).Get(ctx, nil)
}

// SignalOpaqueExternalAsync sends a(n) test.opaque.Opaque.SignalOpaque signal to an existing workflow
func SignalOpaqueExternalAsync(ctx workflow.Context, workflowID string, runID string, req *OpaqueExample) workflow.Future {
	return workflow.SignalExternalWorkflow(ctx, workflowID, runID, SignalOpaqueSignalName, req)
}

// OpaqueActivities describes available worker activities
type OpaqueActivities interface{}

// RegisterOpaqueActivities registers activities with a worker
func RegisterOpaqueActivities(r worker.ActivityRegistry, activities OpaqueActivities) {}

// TestClient provides a testsuite-compatible Client
type TestOpaqueClient struct {
	env       *testsuite.TestWorkflowEnvironment
	workflows OpaqueWorkflows
}

var _ OpaqueClient = &TestOpaqueClient{}

// NewTestOpaqueClient initializes a new TestOpaqueClient value
func NewTestOpaqueClient(env *testsuite.TestWorkflowEnvironment, workflows OpaqueWorkflows, activities OpaqueActivities) *TestOpaqueClient {
	if workflows != nil {
		RegisterOpaqueWorkflows(env, workflows)
	}
	if activities != nil {
		RegisterOpaqueActivities(env, activities)
	}
	return &TestOpaqueClient{env, workflows}
}

// PutOpaqueExample executes a(n) test.opaque.Opaque.PutOpaqueExample workflow in the test environment
func (c *TestOpaqueClient) PutOpaqueExample(ctx context.Context, req *OpaqueExample, opts ...*PutOpaqueExampleOptions) (*OpaqueExample, error) {
	run, err := c.PutOpaqueExampleAsync(ctx, req, opts...)
	if err != nil {
		return nil, err
	}
	return run.Get(ctx)
}

// PutOpaqueExampleAsync executes a(n) test.opaque.Opaque.PutOpaqueExample workflow in the test environment
func (c *TestOpaqueClient) PutOpaqueExampleAsync(ctx context.Context, req *OpaqueExample, options ...*PutOpaqueExampleOptions) (PutOpaqueExampleRun, error) {
	var o *PutOpaqueExampleOptions
	if len(options) > 0 && options[0] != nil {
		o = options[0]
	} else {
		o = NewPutOpaqueExampleOptions()
	}
	opts, err := o.Build(req.ProtoReflect())
	if err != nil {
		return nil, fmt.Errorf("error initializing client.StartWorkflowOptions: %w", err)
	}
	return &testPutOpaqueExampleRun{client: c, env: c.env, opts: &opts, req: req, workflows: c.workflows}, nil
}

// GetPutOpaqueExample is a noop
func (c *TestOpaqueClient) GetPutOpaqueExample(ctx context.Context, workflowID string, runID string) PutOpaqueExampleRun {
	return &testPutOpaqueExampleRun{env: c.env, workflows: c.workflows}
}

// PutOpaqueExampleWithSignalOpaque sends a(n) test.opaque.Opaque.SignalOpaque signal to a(n) test.opaque.Opaque.PutOpaqueExample workflow, starting it if necessary
func (c *TestOpaqueClient) PutOpaqueExampleWithSignalOpaque(ctx context.Context, req *OpaqueExample, signal *OpaqueExample, opts ...*PutOpaqueExampleOptions) (*OpaqueExample, error) {
	c.env.RegisterDelayedCallback(func() {
		c.env.SignalWorkflow(SignalOpaqueSignalName, signal)
	}, 0)
	return c.PutOpaqueExample(ctx, req, opts...)
}

// PutOpaqueExampleWithSignalOpaqueAsync sends a(n) test.opaque.Opaque.SignalOpaque signal to a(n) test.opaque.Opaque.PutOpaqueExample workflow, starting it if necessary
func (c *TestOpaqueClient) PutOpaqueExampleWithSignalOpaqueAsync(ctx context.Context, req *OpaqueExample, signal *OpaqueExample, opts ...*PutOpaqueExampleOptions) (PutOpaqueExampleRun, error) {
	c.env.RegisterDelayedCallback(func() {
		c.env.SignalWorkflow(SignalOpaqueSignalName, signal)
	}, 0)
	return c.PutOpaqueExampleAsync(ctx, req, opts...)
}

// CancelWorkflow requests cancellation of an existing workflow execution
func (c *TestOpaqueClient) CancelWorkflow(ctx context.Context, workflowID string, runID string) error {
	c.env.CancelWorkflow()
	return nil
}

// TerminateWorkflow terminates an existing workflow execution
func (c *TestOpaqueClient) TerminateWorkflow(ctx context.Context, workflowID string, runID string, reason string, details ...interface{}) error {
	return c.CancelWorkflow(ctx, workflowID, runID)
}

// SignalOpaque executes a test.opaque.Opaque.SignalOpaque signal
func (c *TestOpaqueClient) SignalOpaque(ctx context.Context, workflowID string, runID string, req *OpaqueExample) error {
	c.env.SignalWorkflow(SignalOpaqueSignalName, req)
	return nil
}

var _ PutOpaqueExampleRun = &testPutOpaqueExampleRun{}

// testPutOpaqueExampleRun provides convenience methods for interacting with a(n) test.opaque.Opaque.PutOpaqueExample workflow in the test environment
type testPutOpaqueExampleRun struct {
	client    *TestOpaqueClient
	env       *testsuite.TestWorkflowEnvironment
	isStarted atomic.Bool
	opts      *client.StartWorkflowOptions
	req       *OpaqueExample
	workflows OpaqueWorkflows
}

// Cancel requests cancellation of a workflow in execution, returning an error if applicable
func (r *testPutOpaqueExampleRun) Cancel(ctx context.Context) error {
	return r.client.CancelWorkflow(ctx, r.ID(), r.RunID())
}

// Get retrieves a test test.opaque.Opaque.PutOpaqueExample workflow result
func (r *testPutOpaqueExampleRun) Get(context.Context) (*OpaqueExample, error) {
	if r.isStarted.CompareAndSwap(false, true) {
		r.env.ExecuteWorkflow(PutOpaqueExampleWorkflowName, r.req)
	}
	if !r.env.IsWorkflowCompleted() {
		return nil, errors.New("workflow in progress")
	}
	if err := r.env.GetWorkflowError(); err != nil {
		return nil, err
	}
	var result OpaqueExample
	if err := r.env.GetWorkflowResult(&result); err != nil {
		return nil, err
	}
	return &result, nil
}

// ID returns a test test.opaque.Opaque.PutOpaqueExample workflow run's workflow ID
func (r *testPutOpaqueExampleRun) ID() string {
	if r.opts != nil {
		return r.opts.ID
	}
	return ""
}

// Run noop implementation
func (r *testPutOpaqueExampleRun) Run() client.WorkflowRun {
	return nil
}

// RunID noop implementation
func (r *testPutOpaqueExampleRun) RunID() string {
	return ""
}

// Terminate terminates a workflow in execution, returning an error if applicable
func (r *testPutOpaqueExampleRun) Terminate(ctx context.Context, reason string, details ...interface{}) error {
	return r.client.TerminateWorkflow(ctx, r.ID(), r.RunID(), reason, details...)
}

// SignalOpaque executes a test.opaque.Opaque.SignalOpaque signal against a test test.opaque.Opaque.PutOpaqueExample workflow
func (r *testPutOpaqueExampleRun) SignalOpaque(ctx context.Context, req *OpaqueExample) error {
	return r.client.SignalOpaque(ctx, r.ID(), r.RunID(), req)
}

// OpaqueCliOptions describes runtime configuration for test.opaque.Opaque cli
type OpaqueCliOptions struct {
	after            func(*v2.Context) error
	before           func(*v2.Context) error
	clientForCommand func(*v2.Context) (client.Client, error)
	worker           func(*v2.Context, client.Client) (worker.Worker, error)
}

// NewOpaqueCliOptions initializes a new OpaqueCliOptions value
func NewOpaqueCliOptions() *OpaqueCliOptions {
	return &OpaqueCliOptions{}
}

// WithAfter injects a custom After hook to be run after any command invocation
func (opts *OpaqueCliOptions) WithAfter(fn func(*v2.Context) error) *OpaqueCliOptions {
	opts.after = fn
	return opts
}

// WithBefore injects a custom Before hook to be run prior to any command invocation
func (opts *OpaqueCliOptions) WithBefore(fn func(*v2.Context) error) *OpaqueCliOptions {
	opts.before = fn
	return opts
}

// WithClient provides a Temporal client factory for use by commands
func (opts *OpaqueCliOptions) WithClient(fn func(*v2.Context) (client.Client, error)) *OpaqueCliOptions {
	opts.clientForCommand = fn
	return opts
}

// WithWorker provides an method for initializing a worker
func (opts *OpaqueCliOptions) WithWorker(fn func(*v2.Context, client.Client) (worker.Worker, error)) *OpaqueCliOptions {
	opts.worker = fn
	return opts
}

// NewOpaqueCli initializes a cli for a(n) test.opaque.Opaque service
func NewOpaqueCli(options ...*OpaqueCliOptions) (*v2.App, error) {
	commands, err := newOpaqueCommands(options...)
	if err != nil {
		return nil, fmt.Errorf("error initializing subcommands: %w", err)
	}
	return &v2.App{
		Name:                      "opaque",
		Commands:                  commands,
		DisableSliceFlagSeparator: true,
	}, nil
}

// NewOpaqueCliCommand initializes a cli command for a test.opaque.Opaque service with subcommands for each query, signal, update, and workflow
func NewOpaqueCliCommand(options ...*OpaqueCliOptions) (*v2.Command, error) {
	subcommands, err := newOpaqueCommands(options...)
	if err != nil {
		return nil, fmt.Errorf("error initializing subcommands: %w", err)
	}
	return &v2.Command{
		Name:        "opaque",
		Subcommands: subcommands,
	}, nil
}

// newOpaqueCommands initializes (sub)commands for a test.opaque.Opaque cli or command
func newOpaqueCommands(options ...*OpaqueCliOptions) ([]*v2.Command, error) {
	opts := &OpaqueCliOptions{}
	if len(options) > 0 {
		opts = options[0]
	}
	if opts.clientForCommand == nil {
		opts.clientForCommand = func(*v2.Context) (client.Client, error) {
			return client.Dial(client.Options{})
		}
	}
	commands := []*v2.Command{
		{
			Name:                   "signal-opaque",
			Usage:                  "executes a test.opaque.Opaque.SignalOpaque signal",
			Category:               "SIGNALS",
			UseShortOptionHandling: true,
			Before:                 opts.before,
			After:                  opts.after,
			Flags: []v2.Flag{
				&v2.StringFlag{
					Name:     "workflow-id",
					Usage:    "workflow id",
					Required: true,
					Aliases:  []string{"w"},
				},
				&v2.StringFlag{
					Name:    "run-id",
					Usage:   "run id",
					Aliases: []string{"r"},
				},
				&v2.StringFlag{
					Name:     "input-file",
					Usage:    "path to json-formatted input file",
					Aliases:  []string{"f"},
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "name",
					Usage:    "set the value of the operation's \"Name\" parameter",
					Category: "INPUT",
				},
				&v2.Float64Flag{
					Name:     "score",
					Usage:    "set the value of the operation's \"Score\" parameter",
					Category: "INPUT",
				},
				&v2.Float64SliceFlag{
					Name:     "scores",
					Usage:    "set the value of the operation's \"Scores\" parameter",
					Category: "INPUT",
				},
				&v2.Float64Flag{
					Name:     "ratio",
					Usage:    "set the value of the operation's \"Ratio\" parameter",
					Category: "INPUT",
				},
				&v2.Float64SliceFlag{
					Name:     "ratios",
					Usage:    "set the value of the operation's \"Ratios\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "age",
					Usage:    "set the value of the operation's \"Age\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "ages",
					Usage:    "set the value of the operation's \"Ages\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "id",
					Usage:    "set the value of the operation's \"Id\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "ids",
					Usage:    "set the value of the operation's \"Ids\" parameter",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "emails",
					Usage:    "set the value of the operation's \"Emails\" parameter",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "extra",
					Usage:    "set the value of the operation's \"Extra\" parameter (json-encoded: {key: <string>, value: <string>})",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "status",
					Usage:    "set the value of the operation's \"Status\" parameter (STATUS_UNSPECIFIED, STATUS_OK, STATUS_ERROR)",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "statuses",
					Usage:    "set the value of the operation's \"Statuses\" parameter (STATUS_UNSPECIFIED, STATUS_OK, STATUS_ERROR)",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "size",
					Usage:    "set the value of the operation's \"Size\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64SliceFlag{
					Name:     "sizes",
					Usage:    "set the value of the operation's \"Sizes\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "length",
					Usage:    "set the value of the operation's \"Length\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64SliceFlag{
					Name:     "lengths",
					Usage:    "set the value of the operation's \"Lengths\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "connection-id",
					Usage:    "set the value of the operation's \"ConnectionId\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "connection-ids",
					Usage:    "set the value of the operation's \"ConnectionIds\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "session-id",
					Usage:    "set the value of the operation's \"SessionId\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "session-ids",
					Usage:    "set the value of the operation's \"SessionIds\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "fixed-size",
					Usage:    "set the value of the operation's \"FixedSize\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64SliceFlag{
					Name:     "fixed-sizes",
					Usage:    "set the value of the operation's \"FixedSizes\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "fixed-length",
					Usage:    "set the value of the operation's \"FixedLength\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64SliceFlag{
					Name:     "fixed-lengths",
					Usage:    "set the value of the operation's \"FixedLengths\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "sfixed-size",
					Usage:    "set the value of the operation's \"SfixedSize\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "sfixed-sizes",
					Usage:    "set the value of the operation's \"SfixedSizes\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "sfixed-length",
					Usage:    "set the value of the operation's \"SfixedLength\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "sfixed-lengths",
					Usage:    "set the value of the operation's \"SfixedLengths\" parameter",
					Category: "INPUT",
				},
				&v2.BoolFlag{
					Name:     "is-active",
					Usage:    "set the value of the operation's \"IsActive\" parameter",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "is-actives",
					Usage:    "set the value of the operation's \"IsActives\" parameter",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "data",
					Usage:    "set the value of the operation's \"Data\" parameter (base64-encoded)",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "datas",
					Usage:    "set the value of the operation's \"Datas\" parameter (base64-encoded)",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "address",
					Usage:    "set the value of the operation's \"Address\" parameter (json-encoded: {street: <string>, city: <string>, state: <string>, zip: <string>})",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "previous-addresses",
					Usage:    "set the value of the operation's \"PreviousAddresses\" parameter (json-encoded: {street: <string>, city: <string>, state: <string>, zip: <string>})",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "oneof-name",
					Usage:    "set the value of the operation's \"OneofName\" parameter",
					Category: "INPUT",
				},
				&v2.Float64Flag{
					Name:     "oneof-score",
					Usage:    "set the value of the operation's \"OneofScore\" parameter",
					Category: "INPUT",
				},
				&v2.Float64Flag{
					Name:     "oneof-ratio",
					Usage:    "set the value of the operation's \"OneofRatio\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-age",
					Usage:    "set the value of the operation's \"OneofAge\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-id",
					Usage:    "set the value of the operation's \"OneofId\" parameter",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "oneof-status",
					Usage:    "set the value of the operation's \"OneofStatus\" parameter (STATUS_UNSPECIFIED, STATUS_OK, STATUS_ERROR)",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "oneof-size",
					Usage:    "set the value of the operation's \"OneofSize\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "oneof-length",
					Usage:    "set the value of the operation's \"OneofLength\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-connection-id",
					Usage:    "set the value of the operation's \"OneofConnectionId\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-session-id",
					Usage:    "set the value of the operation's \"OneofSessionId\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "oneof-fixed-size",
					Usage:    "set the value of the operation's \"OneofFixedSize\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "oneof-fixed-length",
					Usage:    "set the value of the operation's \"OneofFixedLength\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-sfixed-size",
					Usage:    "set the value of the operation's \"OneofSfixedSize\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-sfixed-length",
					Usage:    "set the value of the operation's \"OneofSfixedLength\" parameter",
					Category: "INPUT",
				},
				&v2.BoolFlag{
					Name:     "oneof-is-active",
					Usage:    "set the value of the operation's \"OneofIsActive\" parameter",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "oneof-data",
					Usage:    "set the value of the operation's \"OneofData\" parameter (base64-encoded)",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "oneof-address",
					Usage:    "set the value of the operation's \"OneofAddress\" parameter (json-encoded: {street: <string>, city: <string>, state: <string>, zip: <string>})",
					Category: "INPUT",
				},
			},
			Action: func(cmd *v2.Context) error {
				c, err := opts.clientForCommand(cmd)
				if err != nil {
					return fmt.Errorf("error initializing client for command: %w", err)
				}
				defer c.Close()
				client := NewOpaqueClient(c)
				req, err := UnmarshalCliFlagsToOpaqueExample(cmd, helpers.UnmarshalCliFlagsOptions{FromFile: "input-file"})
				if err != nil {
					return fmt.Errorf("error unmarshalling request: %w", err)
				}
				if err := client.SignalOpaque(cmd.Context, cmd.String("workflow-id"), cmd.String("run-id"), req); err != nil {
					return fmt.Errorf("error sending %q signal: %w", SignalOpaqueSignalName, err)
				}
				fmt.Println("success")
				return nil
			},
		},
		{
			Name:                   "put-opaque-example",
			Usage:                  "executes a(n) test.opaque.Opaque.PutOpaqueExample workflow",
			Category:               "WORKFLOWS",
			UseShortOptionHandling: true,
			Before:                 opts.before,
			After:                  opts.after,
			Flags: []v2.Flag{
				&v2.BoolFlag{
					Name:    "detach",
					Usage:   "run workflow in the background and print workflow and execution id",
					Aliases: []string{"d"},
				},
				&v2.StringFlag{
					Name:    "task-queue",
					Usage:   "task queue name",
					Aliases: []string{"t"},
					EnvVars: []string{"TEMPORAL_TASK_QUEUE_NAME", "TEMPORAL_TASK_QUEUE", "TASK_QUEUE_NAME", "TASK_QUEUE"},
					Value:   "opaque-opaque",
				},
				&v2.StringFlag{
					Name:     "input-file",
					Usage:    "path to json-formatted input file",
					Aliases:  []string{"f"},
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "name",
					Usage:    "set the value of the operation's \"Name\" parameter",
					Category: "INPUT",
				},
				&v2.Float64Flag{
					Name:     "score",
					Usage:    "set the value of the operation's \"Score\" parameter",
					Category: "INPUT",
				},
				&v2.Float64SliceFlag{
					Name:     "scores",
					Usage:    "set the value of the operation's \"Scores\" parameter",
					Category: "INPUT",
				},
				&v2.Float64Flag{
					Name:     "ratio",
					Usage:    "set the value of the operation's \"Ratio\" parameter",
					Category: "INPUT",
				},
				&v2.Float64SliceFlag{
					Name:     "ratios",
					Usage:    "set the value of the operation's \"Ratios\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "age",
					Usage:    "set the value of the operation's \"Age\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "ages",
					Usage:    "set the value of the operation's \"Ages\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "id",
					Usage:    "set the value of the operation's \"Id\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "ids",
					Usage:    "set the value of the operation's \"Ids\" parameter",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "emails",
					Usage:    "set the value of the operation's \"Emails\" parameter",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "extra",
					Usage:    "set the value of the operation's \"Extra\" parameter (json-encoded: {key: <string>, value: <string>})",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "status",
					Usage:    "set the value of the operation's \"Status\" parameter (STATUS_UNSPECIFIED, STATUS_OK, STATUS_ERROR)",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "statuses",
					Usage:    "set the value of the operation's \"Statuses\" parameter (STATUS_UNSPECIFIED, STATUS_OK, STATUS_ERROR)",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "size",
					Usage:    "set the value of the operation's \"Size\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64SliceFlag{
					Name:     "sizes",
					Usage:    "set the value of the operation's \"Sizes\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "length",
					Usage:    "set the value of the operation's \"Length\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64SliceFlag{
					Name:     "lengths",
					Usage:    "set the value of the operation's \"Lengths\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "connection-id",
					Usage:    "set the value of the operation's \"ConnectionId\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "connection-ids",
					Usage:    "set the value of the operation's \"ConnectionIds\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "session-id",
					Usage:    "set the value of the operation's \"SessionId\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "session-ids",
					Usage:    "set the value of the operation's \"SessionIds\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "fixed-size",
					Usage:    "set the value of the operation's \"FixedSize\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64SliceFlag{
					Name:     "fixed-sizes",
					Usage:    "set the value of the operation's \"FixedSizes\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "fixed-length",
					Usage:    "set the value of the operation's \"FixedLength\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64SliceFlag{
					Name:     "fixed-lengths",
					Usage:    "set the value of the operation's \"FixedLengths\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "sfixed-size",
					Usage:    "set the value of the operation's \"SfixedSize\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "sfixed-sizes",
					Usage:    "set the value of the operation's \"SfixedSizes\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "sfixed-length",
					Usage:    "set the value of the operation's \"SfixedLength\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "sfixed-lengths",
					Usage:    "set the value of the operation's \"SfixedLengths\" parameter",
					Category: "INPUT",
				},
				&v2.BoolFlag{
					Name:     "is-active",
					Usage:    "set the value of the operation's \"IsActive\" parameter",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "is-actives",
					Usage:    "set the value of the operation's \"IsActives\" parameter",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "data",
					Usage:    "set the value of the operation's \"Data\" parameter (base64-encoded)",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "datas",
					Usage:    "set the value of the operation's \"Datas\" parameter (base64-encoded)",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "address",
					Usage:    "set the value of the operation's \"Address\" parameter (json-encoded: {street: <string>, city: <string>, state: <string>, zip: <string>})",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "previous-addresses",
					Usage:    "set the value of the operation's \"PreviousAddresses\" parameter (json-encoded: {street: <string>, city: <string>, state: <string>, zip: <string>})",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "oneof-name",
					Usage:    "set the value of the operation's \"OneofName\" parameter",
					Category: "INPUT",
				},
				&v2.Float64Flag{
					Name:     "oneof-score",
					Usage:    "set the value of the operation's \"OneofScore\" parameter",
					Category: "INPUT",
				},
				&v2.Float64Flag{
					Name:     "oneof-ratio",
					Usage:    "set the value of the operation's \"OneofRatio\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-age",
					Usage:    "set the value of the operation's \"OneofAge\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-id",
					Usage:    "set the value of the operation's \"OneofId\" parameter",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "oneof-status",
					Usage:    "set the value of the operation's \"OneofStatus\" parameter (STATUS_UNSPECIFIED, STATUS_OK, STATUS_ERROR)",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "oneof-size",
					Usage:    "set the value of the operation's \"OneofSize\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "oneof-length",
					Usage:    "set the value of the operation's \"OneofLength\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-connection-id",
					Usage:    "set the value of the operation's \"OneofConnectionId\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-session-id",
					Usage:    "set the value of the operation's \"OneofSessionId\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "oneof-fixed-size",
					Usage:    "set the value of the operation's \"OneofFixedSize\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "oneof-fixed-length",
					Usage:    "set the value of the operation's \"OneofFixedLength\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-sfixed-size",
					Usage:    "set the value of the operation's \"OneofSfixedSize\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-sfixed-length",
					Usage:    "set the value of the operation's \"OneofSfixedLength\" parameter",
					Category: "INPUT",
				},
				&v2.BoolFlag{
					Name:     "oneof-is-active",
					Usage:    "set the value of the operation's \"OneofIsActive\" parameter",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "oneof-data",
					Usage:    "set the value of the operation's \"OneofData\" parameter (base64-encoded)",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "oneof-address",
					Usage:    "set the value of the operation's \"OneofAddress\" parameter (json-encoded: {street: <string>, city: <string>, state: <string>, zip: <string>})",
					Category: "INPUT",
				},
			},
			Action: func(cmd *v2.Context) error {
				tc, err := opts.clientForCommand(cmd)
				if err != nil {
					return fmt.Errorf("error initializing client for command: %w", err)
				}
				defer tc.Close()
				c := NewOpaqueClient(tc)
				req, err := UnmarshalCliFlagsToOpaqueExample(cmd, helpers.UnmarshalCliFlagsOptions{FromFile: "input-file"})
				if err != nil {
					return fmt.Errorf("error unmarshalling request: %w", err)
				}
				opts := client.StartWorkflowOptions{}
				if tq := cmd.String("task-queue"); tq != "" {
					opts.TaskQueue = tq
				}
				run, err := c.PutOpaqueExampleAsync(cmd.Context, req, NewPutOpaqueExampleOptions().WithStartWorkflowOptions(opts))
				if err != nil {
					return fmt.Errorf("error starting %s workflow: %w", PutOpaqueExampleWorkflowName, err)
				}
				if cmd.Bool("detach") {
					fmt.Println("success")
					fmt.Printf("workflow id: %s\n", run.ID())
					fmt.Printf("run id: %s\n", run.RunID())
					return nil
				}
				if resp, err := run.Get(cmd.Context); err != nil {
					return err
				} else {
					b, err := protojson.Marshal(resp)
					if err != nil {
						return fmt.Errorf("error serializing response json: %w", err)
					}
					var out bytes.Buffer
					if err := json.Indent(&out, b, "", "  "); err != nil {
						return fmt.Errorf("error formatting json: %w", err)
					}
					fmt.Println(out.String())
					return nil
				}
			},
		},
		// sends a test.opaque.Opaque.SignalOpaque signal to a test.opaque.Opaque.PutOpaqueExample workflow, starting it if necessary,
		{
			Name:                   "put-opaque-example-with-signal-opaque",
			Usage:                  "sends a test.opaque.Opaque.SignalOpaque signal to a test.opaque.Opaque.PutOpaqueExample workflow, starting it if necessary",
			Category:               "WORKFLOWS",
			UseShortOptionHandling: true,
			Before:                 opts.before,
			After:                  opts.after,
			Flags: []v2.Flag{
				&v2.BoolFlag{
					Name:    "detach",
					Usage:   "run workflow in the background and print workflow and execution id",
					Aliases: []string{"d"},
				},
				&v2.StringFlag{
					Name:     "input-file",
					Usage:    "path to json-formatted input file",
					Aliases:  []string{"f"},
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "name",
					Usage:    "set the value of the operation's \"Name\" parameter",
					Category: "INPUT",
				},
				&v2.Float64Flag{
					Name:     "score",
					Usage:    "set the value of the operation's \"Score\" parameter",
					Category: "INPUT",
				},
				&v2.Float64SliceFlag{
					Name:     "scores",
					Usage:    "set the value of the operation's \"Scores\" parameter",
					Category: "INPUT",
				},
				&v2.Float64Flag{
					Name:     "ratio",
					Usage:    "set the value of the operation's \"Ratio\" parameter",
					Category: "INPUT",
				},
				&v2.Float64SliceFlag{
					Name:     "ratios",
					Usage:    "set the value of the operation's \"Ratios\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "age",
					Usage:    "set the value of the operation's \"Age\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "ages",
					Usage:    "set the value of the operation's \"Ages\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "id",
					Usage:    "set the value of the operation's \"Id\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "ids",
					Usage:    "set the value of the operation's \"Ids\" parameter",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "emails",
					Usage:    "set the value of the operation's \"Emails\" parameter",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "extra",
					Usage:    "set the value of the operation's \"Extra\" parameter (json-encoded: {key: <string>, value: <string>})",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "status",
					Usage:    "set the value of the operation's \"Status\" parameter (STATUS_UNSPECIFIED, STATUS_OK, STATUS_ERROR)",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "statuses",
					Usage:    "set the value of the operation's \"Statuses\" parameter (STATUS_UNSPECIFIED, STATUS_OK, STATUS_ERROR)",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "size",
					Usage:    "set the value of the operation's \"Size\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64SliceFlag{
					Name:     "sizes",
					Usage:    "set the value of the operation's \"Sizes\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "length",
					Usage:    "set the value of the operation's \"Length\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64SliceFlag{
					Name:     "lengths",
					Usage:    "set the value of the operation's \"Lengths\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "connection-id",
					Usage:    "set the value of the operation's \"ConnectionId\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "connection-ids",
					Usage:    "set the value of the operation's \"ConnectionIds\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "session-id",
					Usage:    "set the value of the operation's \"SessionId\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "session-ids",
					Usage:    "set the value of the operation's \"SessionIds\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "fixed-size",
					Usage:    "set the value of the operation's \"FixedSize\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64SliceFlag{
					Name:     "fixed-sizes",
					Usage:    "set the value of the operation's \"FixedSizes\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "fixed-length",
					Usage:    "set the value of the operation's \"FixedLength\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64SliceFlag{
					Name:     "fixed-lengths",
					Usage:    "set the value of the operation's \"FixedLengths\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "sfixed-size",
					Usage:    "set the value of the operation's \"SfixedSize\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "sfixed-sizes",
					Usage:    "set the value of the operation's \"SfixedSizes\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "sfixed-length",
					Usage:    "set the value of the operation's \"SfixedLength\" parameter",
					Category: "INPUT",
				},
				&v2.Int64SliceFlag{
					Name:     "sfixed-lengths",
					Usage:    "set the value of the operation's \"SfixedLengths\" parameter",
					Category: "INPUT",
				},
				&v2.BoolFlag{
					Name:     "is-active",
					Usage:    "set the value of the operation's \"IsActive\" parameter",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "is-actives",
					Usage:    "set the value of the operation's \"IsActives\" parameter",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "data",
					Usage:    "set the value of the operation's \"Data\" parameter (base64-encoded)",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "datas",
					Usage:    "set the value of the operation's \"Datas\" parameter (base64-encoded)",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "address",
					Usage:    "set the value of the operation's \"Address\" parameter (json-encoded: {street: <string>, city: <string>, state: <string>, zip: <string>})",
					Category: "INPUT",
				},
				&v2.StringSliceFlag{
					Name:     "previous-addresses",
					Usage:    "set the value of the operation's \"PreviousAddresses\" parameter (json-encoded: {street: <string>, city: <string>, state: <string>, zip: <string>})",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "oneof-name",
					Usage:    "set the value of the operation's \"OneofName\" parameter",
					Category: "INPUT",
				},
				&v2.Float64Flag{
					Name:     "oneof-score",
					Usage:    "set the value of the operation's \"OneofScore\" parameter",
					Category: "INPUT",
				},
				&v2.Float64Flag{
					Name:     "oneof-ratio",
					Usage:    "set the value of the operation's \"OneofRatio\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-age",
					Usage:    "set the value of the operation's \"OneofAge\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-id",
					Usage:    "set the value of the operation's \"OneofId\" parameter",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "oneof-status",
					Usage:    "set the value of the operation's \"OneofStatus\" parameter (STATUS_UNSPECIFIED, STATUS_OK, STATUS_ERROR)",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "oneof-size",
					Usage:    "set the value of the operation's \"OneofSize\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "oneof-length",
					Usage:    "set the value of the operation's \"OneofLength\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-connection-id",
					Usage:    "set the value of the operation's \"OneofConnectionId\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-session-id",
					Usage:    "set the value of the operation's \"OneofSessionId\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "oneof-fixed-size",
					Usage:    "set the value of the operation's \"OneofFixedSize\" parameter",
					Category: "INPUT",
				},
				&v2.Uint64Flag{
					Name:     "oneof-fixed-length",
					Usage:    "set the value of the operation's \"OneofFixedLength\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-sfixed-size",
					Usage:    "set the value of the operation's \"OneofSfixedSize\" parameter",
					Category: "INPUT",
				},
				&v2.Int64Flag{
					Name:     "oneof-sfixed-length",
					Usage:    "set the value of the operation's \"OneofSfixedLength\" parameter",
					Category: "INPUT",
				},
				&v2.BoolFlag{
					Name:     "oneof-is-active",
					Usage:    "set the value of the operation's \"OneofIsActive\" parameter",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "oneof-data",
					Usage:    "set the value of the operation's \"OneofData\" parameter (base64-encoded)",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "oneof-address",
					Usage:    "set the value of the operation's \"OneofAddress\" parameter (json-encoded: {street: <string>, city: <string>, state: <string>, zip: <string>})",
					Category: "INPUT",
				},
				&v2.StringFlag{
					Name:     "signal-file",
					Usage:    "path to json-formatted input file",
					Aliases:  []string{"s"},
					Category: "SIGNAL",
				},
				&v2.StringFlag{
					Name:     "signal-opaque-name",
					Usage:    "set the value of the operation's \"Name\" parameter",
					Category: "SIGNAL",
				},
				&v2.Float64Flag{
					Name:     "signal-opaque-score",
					Usage:    "set the value of the operation's \"Score\" parameter",
					Category: "SIGNAL",
				},
				&v2.Float64SliceFlag{
					Name:     "signal-opaque-scores",
					Usage:    "set the value of the operation's \"Scores\" parameter",
					Category: "SIGNAL",
				},
				&v2.Float64Flag{
					Name:     "signal-opaque-ratio",
					Usage:    "set the value of the operation's \"Ratio\" parameter",
					Category: "SIGNAL",
				},
				&v2.Float64SliceFlag{
					Name:     "signal-opaque-ratios",
					Usage:    "set the value of the operation's \"Ratios\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64Flag{
					Name:     "signal-opaque-age",
					Usage:    "set the value of the operation's \"Age\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64SliceFlag{
					Name:     "signal-opaque-ages",
					Usage:    "set the value of the operation's \"Ages\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64Flag{
					Name:     "signal-opaque-id",
					Usage:    "set the value of the operation's \"Id\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64SliceFlag{
					Name:     "signal-opaque-ids",
					Usage:    "set the value of the operation's \"Ids\" parameter",
					Category: "SIGNAL",
				},
				&v2.StringSliceFlag{
					Name:     "signal-opaque-emails",
					Usage:    "set the value of the operation's \"Emails\" parameter",
					Category: "SIGNAL",
				},
				&v2.StringFlag{
					Name:     "signal-opaque-extra",
					Usage:    "set the value of the operation's \"Extra\" parameter (json-encoded: {key: <string>, value: <string>})",
					Category: "SIGNAL",
				},
				&v2.StringFlag{
					Name:     "signal-opaque-status",
					Usage:    "set the value of the operation's \"Status\" parameter (STATUS_UNSPECIFIED, STATUS_OK, STATUS_ERROR)",
					Category: "SIGNAL",
				},
				&v2.StringSliceFlag{
					Name:     "signal-opaque-statuses",
					Usage:    "set the value of the operation's \"Statuses\" parameter (STATUS_UNSPECIFIED, STATUS_OK, STATUS_ERROR)",
					Category: "SIGNAL",
				},
				&v2.Uint64Flag{
					Name:     "signal-opaque-size",
					Usage:    "set the value of the operation's \"Size\" parameter",
					Category: "SIGNAL",
				},
				&v2.Uint64SliceFlag{
					Name:     "signal-opaque-sizes",
					Usage:    "set the value of the operation's \"Sizes\" parameter",
					Category: "SIGNAL",
				},
				&v2.Uint64Flag{
					Name:     "signal-opaque-length",
					Usage:    "set the value of the operation's \"Length\" parameter",
					Category: "SIGNAL",
				},
				&v2.Uint64SliceFlag{
					Name:     "signal-opaque-lengths",
					Usage:    "set the value of the operation's \"Lengths\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64Flag{
					Name:     "signal-opaque-connection-id",
					Usage:    "set the value of the operation's \"ConnectionId\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64SliceFlag{
					Name:     "signal-opaque-connection-ids",
					Usage:    "set the value of the operation's \"ConnectionIds\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64Flag{
					Name:     "signal-opaque-session-id",
					Usage:    "set the value of the operation's \"SessionId\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64SliceFlag{
					Name:     "signal-opaque-session-ids",
					Usage:    "set the value of the operation's \"SessionIds\" parameter",
					Category: "SIGNAL",
				},
				&v2.Uint64Flag{
					Name:     "signal-opaque-fixed-size",
					Usage:    "set the value of the operation's \"FixedSize\" parameter",
					Category: "SIGNAL",
				},
				&v2.Uint64SliceFlag{
					Name:     "signal-opaque-fixed-sizes",
					Usage:    "set the value of the operation's \"FixedSizes\" parameter",
					Category: "SIGNAL",
				},
				&v2.Uint64Flag{
					Name:     "signal-opaque-fixed-length",
					Usage:    "set the value of the operation's \"FixedLength\" parameter",
					Category: "SIGNAL",
				},
				&v2.Uint64SliceFlag{
					Name:     "signal-opaque-fixed-lengths",
					Usage:    "set the value of the operation's \"FixedLengths\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64Flag{
					Name:     "signal-opaque-sfixed-size",
					Usage:    "set the value of the operation's \"SfixedSize\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64SliceFlag{
					Name:     "signal-opaque-sfixed-sizes",
					Usage:    "set the value of the operation's \"SfixedSizes\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64Flag{
					Name:     "signal-opaque-sfixed-length",
					Usage:    "set the value of the operation's \"SfixedLength\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64SliceFlag{
					Name:     "signal-opaque-sfixed-lengths",
					Usage:    "set the value of the operation's \"SfixedLengths\" parameter",
					Category: "SIGNAL",
				},
				&v2.BoolFlag{
					Name:     "signal-opaque-is-active",
					Usage:    "set the value of the operation's \"IsActive\" parameter",
					Category: "SIGNAL",
				},
				&v2.StringSliceFlag{
					Name:     "signal-opaque-is-actives",
					Usage:    "set the value of the operation's \"IsActives\" parameter",
					Category: "SIGNAL",
				},
				&v2.StringFlag{
					Name:     "signal-opaque-data",
					Usage:    "set the value of the operation's \"Data\" parameter (base64-encoded)",
					Category: "SIGNAL",
				},
				&v2.StringSliceFlag{
					Name:     "signal-opaque-datas",
					Usage:    "set the value of the operation's \"Datas\" parameter (base64-encoded)",
					Category: "SIGNAL",
				},
				&v2.StringFlag{
					Name:     "signal-opaque-address",
					Usage:    "set the value of the operation's \"Address\" parameter (json-encoded: {street: <string>, city: <string>, state: <string>, zip: <string>})",
					Category: "SIGNAL",
				},
				&v2.StringSliceFlag{
					Name:     "signal-opaque-previous-addresses",
					Usage:    "set the value of the operation's \"PreviousAddresses\" parameter (json-encoded: {street: <string>, city: <string>, state: <string>, zip: <string>})",
					Category: "SIGNAL",
				},
				&v2.StringFlag{
					Name:     "signal-opaque-oneof-name",
					Usage:    "set the value of the operation's \"OneofName\" parameter",
					Category: "SIGNAL",
				},
				&v2.Float64Flag{
					Name:     "signal-opaque-oneof-score",
					Usage:    "set the value of the operation's \"OneofScore\" parameter",
					Category: "SIGNAL",
				},
				&v2.Float64Flag{
					Name:     "signal-opaque-oneof-ratio",
					Usage:    "set the value of the operation's \"OneofRatio\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64Flag{
					Name:     "signal-opaque-oneof-age",
					Usage:    "set the value of the operation's \"OneofAge\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64Flag{
					Name:     "signal-opaque-oneof-id",
					Usage:    "set the value of the operation's \"OneofId\" parameter",
					Category: "SIGNAL",
				},
				&v2.StringFlag{
					Name:     "signal-opaque-oneof-status",
					Usage:    "set the value of the operation's \"OneofStatus\" parameter (STATUS_UNSPECIFIED, STATUS_OK, STATUS_ERROR)",
					Category: "SIGNAL",
				},
				&v2.Uint64Flag{
					Name:     "signal-opaque-oneof-size",
					Usage:    "set the value of the operation's \"OneofSize\" parameter",
					Category: "SIGNAL",
				},
				&v2.Uint64Flag{
					Name:     "signal-opaque-oneof-length",
					Usage:    "set the value of the operation's \"OneofLength\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64Flag{
					Name:     "signal-opaque-oneof-connection-id",
					Usage:    "set the value of the operation's \"OneofConnectionId\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64Flag{
					Name:     "signal-opaque-oneof-session-id",
					Usage:    "set the value of the operation's \"OneofSessionId\" parameter",
					Category: "SIGNAL",
				},
				&v2.Uint64Flag{
					Name:     "signal-opaque-oneof-fixed-size",
					Usage:    "set the value of the operation's \"OneofFixedSize\" parameter",
					Category: "SIGNAL",
				},
				&v2.Uint64Flag{
					Name:     "signal-opaque-oneof-fixed-length",
					Usage:    "set the value of the operation's \"OneofFixedLength\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64Flag{
					Name:     "signal-opaque-oneof-sfixed-size",
					Usage:    "set the value of the operation's \"OneofSfixedSize\" parameter",
					Category: "SIGNAL",
				},
				&v2.Int64Flag{
					Name:     "signal-opaque-oneof-sfixed-length",
					Usage:    "set the value of the operation's \"OneofSfixedLength\" parameter",
					Category: "SIGNAL",
				},
				&v2.BoolFlag{
					Name:     "signal-opaque-oneof-is-active",
					Usage:    "set the value of the operation's \"OneofIsActive\" parameter",
					Category: "SIGNAL",
				},
				&v2.StringFlag{
					Name:     "signal-opaque-oneof-data",
					Usage:    "set the value of the operation's \"OneofData\" parameter (base64-encoded)",
					Category: "SIGNAL",
				},
				&v2.StringFlag{
					Name:     "signal-opaque-oneof-address",
					Usage:    "set the value of the operation's \"OneofAddress\" parameter (json-encoded: {street: <string>, city: <string>, state: <string>, zip: <string>})",
					Category: "SIGNAL",
				},
			},
			Action: func(cmd *v2.Context) error {
				c, err := opts.clientForCommand(cmd)
				if err != nil {
					return fmt.Errorf("error initializing client for command: %w", err)
				}
				defer c.Close()
				client := NewOpaqueClient(c)
				req, err := UnmarshalCliFlagsToOpaqueExample(cmd, helpers.UnmarshalCliFlagsOptions{FromFile: "input-file"})
				if err != nil {
					return fmt.Errorf("error unmarshalling request: %w", err)
				}
				signal, err := UnmarshalCliFlagsToOpaqueExample(cmd, helpers.UnmarshalCliFlagsOptions{FromFile: "signal-file"}, helpers.UnmarshalCliFlagsOptions{
					Prefix: "signal-opaque",
					PrefixFlags: map[string]struct{}{
						"address":             {},
						"age":                 {},
						"ages":                {},
						"connection-id":       {},
						"connection-ids":      {},
						"data":                {},
						"datas":               {},
						"emails":              {},
						"extra":               {},
						"fixed-length":        {},
						"fixed-lengths":       {},
						"fixed-size":          {},
						"fixed-sizes":         {},
						"id":                  {},
						"ids":                 {},
						"is-active":           {},
						"is-actives":          {},
						"length":              {},
						"lengths":             {},
						"name":                {},
						"oneof-address":       {},
						"oneof-age":           {},
						"oneof-connection-id": {},
						"oneof-data":          {},
						"oneof-fixed-length":  {},
						"oneof-fixed-size":    {},
						"oneof-id":            {},
						"oneof-is-active":     {},
						"oneof-length":        {},
						"oneof-name":          {},
						"oneof-ratio":         {},
						"oneof-score":         {},
						"oneof-session-id":    {},
						"oneof-sfixed-length": {},
						"oneof-sfixed-size":   {},
						"oneof-size":          {},
						"oneof-status":        {},
						"previous-addresses":  {},
						"ratio":               {},
						"ratios":              {},
						"score":               {},
						"scores":              {},
						"session-id":          {},
						"session-ids":         {},
						"sfixed-length":       {},
						"sfixed-lengths":      {},
						"sfixed-size":         {},
						"sfixed-sizes":        {},
						"size":                {},
						"sizes":               {},
						"status":              {},
						"statuses":            {},
					},
				})
				if err != nil {
					return fmt.Errorf("error unmarshalling signal: %w", err)
				}
				run, err := client.PutOpaqueExampleWithSignalOpaqueAsync(cmd.Context, req, signal)
				if err != nil {
					return fmt.Errorf("error starting %s workflow with %s signal: %w", PutOpaqueExampleWorkflowName, SignalOpaqueSignalName, err)
				}
				if cmd.Bool("detach") {
					fmt.Println("success")
					fmt.Printf("workflow id: %s\n", run.ID())
					fmt.Printf("run id: %s\n", run.RunID())
					return nil
				}
				if resp, err := run.Get(cmd.Context); err != nil {
					return err
				} else {
					b, err := protojson.Marshal(resp)
					if err != nil {
						return fmt.Errorf("error serializing response json: %w", err)
					}
					var out bytes.Buffer
					if err := json.Indent(&out, b, "", "  "); err != nil {
						return fmt.Errorf("error formatting json: %w", err)
					}
					fmt.Println(out.String())
					return nil
				}
			},
		},
	}
	if opts.worker != nil {
		commands = append(commands, []*v2.Command{
			{
				Name:                   "worker",
				Usage:                  "runs a test.opaque.Opaque worker process",
				UseShortOptionHandling: true,
				Before:                 opts.before,
				After:                  opts.after,
				Action: func(cmd *v2.Context) error {
					c, err := opts.clientForCommand(cmd)
					if err != nil {
						return fmt.Errorf("error initializing client for command: %w", err)
					}
					defer c.Close()
					w, err := opts.worker(cmd, c)
					if opts.worker != nil {
						if err != nil {
							return fmt.Errorf("error initializing worker: %w", err)
						}
					}
					if err := w.Start(); err != nil {
						return fmt.Errorf("error starting worker: %w", err)
					}
					defer w.Stop()
					<-cmd.Context.Done()
					return nil
				},
			},
		}...)
	}
	sort.Slice(commands, func(i, j int) bool {
		return commands[i].Name < commands[j].Name
	})
	return commands, nil
}

// UnmarshalCliFlagsToOpaqueExample unmarshals a OpaqueExample from command line flags
func UnmarshalCliFlagsToOpaqueExample(cmd *v2.Context, options ...helpers.UnmarshalCliFlagsOptions) (*OpaqueExample, error) {
	opts := helpers.FlattenUnmarshalCliFlagsOptions(options...)
	var result OpaqueExample
	if opts.FromFile != "" && cmd.IsSet(opts.FromFile) {
		f, err := gohomedir.Expand(cmd.String(opts.FromFile))
		if err != nil {
			f = cmd.String(opts.FromFile)
		}
		b, err := os.ReadFile(f)
		if err != nil {
			return nil, fmt.Errorf("error reading %s: %w", opts.FromFile, err)
		}
		if err := protojson.Unmarshal(b, &result); err != nil {
			return nil, fmt.Errorf("error parsing %s json: %w", opts.FromFile, err)
		}
	}
	if flag := opts.FlagName("name"); cmd.IsSet(flag) {
		value := cmd.String(flag)
		result.SetName(value)
	}
	if flag := opts.FlagName("score"); cmd.IsSet(flag) {
		value := cmd.Float64(flag)
		result.SetScore(value)
	}
	if flag := opts.FlagName("scores"); cmd.IsSet(flag) {
		value := cmd.Float64Slice(flag)
		result.SetScores(value)
	}
	if flag := opts.FlagName("ratio"); cmd.IsSet(flag) {
		value, err := convert.SafeCast[float64, float32](cmd.Float64(flag))
		if err != nil {
			return nil, err
		}
		result.SetRatio(value)
	}
	if flag := opts.FlagName("ratios"); cmd.IsSet(flag) {
		value, err := convert.MapSliceFunc(cmd.Float64Slice(flag), func(v float64) (result float32, err error) {
			value, err := convert.SafeCast[float64, float32](v)
			if err != nil {
				return result, err
			}
			return value, nil
		})
		if err != nil {
			return nil, err
		}
		result.SetRatios(value)
	}
	if flag := opts.FlagName("age"); cmd.IsSet(flag) {
		value, err := convert.SafeCast[int64, int32](cmd.Int64(flag))
		if err != nil {
			return nil, err
		}
		result.SetAge(value)
	}
	if flag := opts.FlagName("ages"); cmd.IsSet(flag) {
		value, err := convert.MapSliceFunc(cmd.Int64Slice(flag), func(v int64) (result int32, err error) {
			value, err := convert.SafeCast[int64, int32](v)
			if err != nil {
				return result, err
			}
			return value, nil
		})
		if err != nil {
			return nil, err
		}
		result.SetAges(value)
	}
	if flag := opts.FlagName("id"); cmd.IsSet(flag) {
		value := cmd.Int64(flag)
		result.SetId(value)
	}
	if flag := opts.FlagName("ids"); cmd.IsSet(flag) {
		value := cmd.Int64Slice(flag)
		result.SetIds(value)
	}
	if flag := opts.FlagName("emails"); cmd.IsSet(flag) {
		value := cmd.StringSlice(flag)
		result.SetEmails(value)
	}
	if flag := opts.FlagName("extra"); cmd.IsSet(flag) {
		var tmp OpaqueExample
		if err := protojson.Unmarshal([]byte(fmt.Sprintf("{\"extra\":%s}", cmd.String(flag))), &tmp); err != nil {
			return nil, fmt.Errorf("error unmarshalling \"extra\" map flag: %w", err)
		}
		value := tmp.GetExtra()
		result.SetExtra(value)
	}
	if flag := opts.FlagName("status"); cmd.IsSet(flag) {
		enumID, ok := Status_value[cmd.String(flag)]
		if !ok {
			return nil, fmt.Errorf("invalid value for enum field %s", "Status")
		}
		value := Status(enumID)
		result.SetStatus(value)
	}
	if flag := opts.FlagName("statuses"); cmd.IsSet(flag) {
		value, err := convert.MapSliceFunc(cmd.StringSlice(flag), func(v string) (result Status, err error) {
			enumID, ok := Status_value[v]
			if !ok {
				return result, fmt.Errorf("invalid value for enum field %s", "Statuses")
			}
			return Status(enumID), nil
		})
		if err != nil {
			return nil, err
		}
		result.SetStatuses(value)
	}
	if flag := opts.FlagName("size"); cmd.IsSet(flag) {
		value, err := convert.SafeCast[uint64, uint32](cmd.Uint64(flag))
		if err != nil {
			return nil, err
		}
		result.SetSize(value)
	}
	if flag := opts.FlagName("sizes"); cmd.IsSet(flag) {
		value, err := convert.MapSliceFunc(cmd.Uint64Slice(flag), func(v uint64) (result uint32, err error) {
			value, err := convert.SafeCast[uint64, uint32](v)
			if err != nil {
				return result, err
			}
			return value, nil
		})
		if err != nil {
			return nil, err
		}
		result.SetSizes(value)
	}
	if flag := opts.FlagName("length"); cmd.IsSet(flag) {
		value := cmd.Uint64(flag)
		result.SetLength(value)
	}
	if flag := opts.FlagName("lengths"); cmd.IsSet(flag) {
		value := cmd.Uint64Slice(flag)
		result.SetLengths(value)
	}
	if flag := opts.FlagName("connection-id"); cmd.IsSet(flag) {
		value, err := convert.SafeCast[int64, int32](cmd.Int64(flag))
		if err != nil {
			return nil, err
		}
		result.SetConnectionId(value)
	}
	if flag := opts.FlagName("connection-ids"); cmd.IsSet(flag) {
		value, err := convert.MapSliceFunc(cmd.Int64Slice(flag), func(v int64) (result int32, err error) {
			value, err := convert.SafeCast[int64, int32](v)
			if err != nil {
				return result, err
			}
			return value, nil
		})
		if err != nil {
			return nil, err
		}
		result.SetConnectionIds(value)
	}
	if flag := opts.FlagName("session-id"); cmd.IsSet(flag) {
		value := cmd.Int64(flag)
		result.SetSessionId(value)
	}
	if flag := opts.FlagName("session-ids"); cmd.IsSet(flag) {
		value := cmd.Int64Slice(flag)
		result.SetSessionIds(value)
	}
	if flag := opts.FlagName("fixed-size"); cmd.IsSet(flag) {
		value, err := convert.SafeCast[uint64, uint32](cmd.Uint64(flag))
		if err != nil {
			return nil, err
		}
		result.SetFixedSize(value)
	}
	if flag := opts.FlagName("fixed-sizes"); cmd.IsSet(flag) {
		value, err := convert.MapSliceFunc(cmd.Uint64Slice(flag), func(v uint64) (result uint32, err error) {
			value, err := convert.SafeCast[uint64, uint32](v)
			if err != nil {
				return result, err
			}
			return value, nil
		})
		if err != nil {
			return nil, err
		}
		result.SetFixedSizes(value)
	}
	if flag := opts.FlagName("fixed-length"); cmd.IsSet(flag) {
		value := cmd.Uint64(flag)
		result.SetFixedLength(value)
	}
	if flag := opts.FlagName("fixed-lengths"); cmd.IsSet(flag) {
		value := cmd.Uint64Slice(flag)
		result.SetFixedLengths(value)
	}
	if flag := opts.FlagName("sfixed-size"); cmd.IsSet(flag) {
		value, err := convert.SafeCast[int64, int32](cmd.Int64(flag))
		if err != nil {
			return nil, err
		}
		result.SetSfixedSize(value)
	}
	if flag := opts.FlagName("sfixed-sizes"); cmd.IsSet(flag) {
		value, err := convert.MapSliceFunc(cmd.Int64Slice(flag), func(v int64) (result int32, err error) {
			value, err := convert.SafeCast[int64, int32](v)
			if err != nil {
				return result, err
			}
			return value, nil
		})
		if err != nil {
			return nil, err
		}
		result.SetSfixedSizes(value)
	}
	if flag := opts.FlagName("sfixed-length"); cmd.IsSet(flag) {
		value := cmd.Int64(flag)
		result.SetSfixedLength(value)
	}
	if flag := opts.FlagName("sfixed-lengths"); cmd.IsSet(flag) {
		value := cmd.Int64Slice(flag)
		result.SetSfixedLengths(value)
	}
	if flag := opts.FlagName("is-active"); cmd.IsSet(flag) {
		value := cmd.Bool(flag)
		result.SetIsActive(value)
	}
	if flag := opts.FlagName("is-actives"); cmd.IsSet(flag) {
		value, err := convert.MapSliceFunc(cmd.StringSlice(flag), func(v string) (result bool, err error) {
			return strconv.ParseBool(v)
		})
		if err != nil {
			return nil, err
		}
		result.SetIsActives(value)
	}
	if flag := opts.FlagName("data"); cmd.IsSet(flag) {
		value, err := base64.StdEncoding.DecodeString(cmd.String(flag))
		if err != nil {
			return nil, err
		}
		result.SetData(value)
	}
	if flag := opts.FlagName("datas"); cmd.IsSet(flag) {
		value, err := convert.MapSliceFunc(cmd.StringSlice(flag), func(v string) (result []byte, err error) {
			return base64.StdEncoding.DecodeString(v)
		})
		if err != nil {
			return nil, err
		}
		result.SetDatas(value)
	}
	if flag := opts.FlagName("address"); cmd.IsSet(flag) {
		var tmp Address
		if err := protojson.Unmarshal([]byte(cmd.String(flag)), &tmp); err != nil {
			return nil, fmt.Errorf("error unmarshalling \"address\" flag: %w", err)
		}
		value := &tmp
		result.SetAddress(value)
	}
	if flag := opts.FlagName("previous-addresses"); cmd.IsSet(flag) {
		value, err := convert.MapSliceFunc(cmd.StringSlice(flag), func(v string) (*Address, error) {
			var tmp Address
			if err := protojson.Unmarshal([]byte(v), &tmp); err != nil {
				return nil, fmt.Errorf("error unmarshalling \"previous-addresses\" flag: %w", err)
			}
			return &tmp, nil
		})
		if err != nil {
			return nil, err
		}
		result.SetPreviousAddresses(value)
	}
	if flag := opts.FlagName("oneof-name"); cmd.IsSet(flag) {
		value := cmd.String(flag)
		result.SetOneofName(value)
	}
	if flag := opts.FlagName("oneof-score"); cmd.IsSet(flag) {
		value := cmd.Float64(flag)
		result.SetOneofScore(value)
	}
	if flag := opts.FlagName("oneof-ratio"); cmd.IsSet(flag) {
		value, err := convert.SafeCast[float64, float32](cmd.Float64(flag))
		if err != nil {
			return nil, err
		}
		result.SetOneofRatio(value)
	}
	if flag := opts.FlagName("oneof-age"); cmd.IsSet(flag) {
		value, err := convert.SafeCast[int64, int32](cmd.Int64(flag))
		if err != nil {
			return nil, err
		}
		result.SetOneofAge(value)
	}
	if flag := opts.FlagName("oneof-id"); cmd.IsSet(flag) {
		value := cmd.Int64(flag)
		result.SetOneofId(value)
	}
	if flag := opts.FlagName("oneof-status"); cmd.IsSet(flag) {
		enumID, ok := Status_value[cmd.String(flag)]
		if !ok {
			return nil, fmt.Errorf("invalid value for enum field %s", "OneofStatus")
		}
		value := Status(enumID)
		result.SetOneofStatus(value)
	}
	if flag := opts.FlagName("oneof-size"); cmd.IsSet(flag) {
		value, err := convert.SafeCast[uint64, uint32](cmd.Uint64(flag))
		if err != nil {
			return nil, err
		}
		result.SetOneofSize(value)
	}
	if flag := opts.FlagName("oneof-length"); cmd.IsSet(flag) {
		value := cmd.Uint64(flag)
		result.SetOneofLength(value)
	}
	if flag := opts.FlagName("oneof-connection-id"); cmd.IsSet(flag) {
		value, err := convert.SafeCast[int64, int32](cmd.Int64(flag))
		if err != nil {
			return nil, err
		}
		result.SetOneofConnectionId(value)
	}
	if flag := opts.FlagName("oneof-session-id"); cmd.IsSet(flag) {
		value := cmd.Int64(flag)
		result.SetOneofSessionId(value)
	}
	if flag := opts.FlagName("oneof-fixed-size"); cmd.IsSet(flag) {
		value, err := convert.SafeCast[uint64, uint32](cmd.Uint64(flag))
		if err != nil {
			return nil, err
		}
		result.SetOneofFixedSize(value)
	}
	if flag := opts.FlagName("oneof-fixed-length"); cmd.IsSet(flag) {
		value := cmd.Uint64(flag)
		result.SetOneofFixedLength(value)
	}
	if flag := opts.FlagName("oneof-sfixed-size"); cmd.IsSet(flag) {
		value, err := convert.SafeCast[int64, int32](cmd.Int64(flag))
		if err != nil {
			return nil, err
		}
		result.SetOneofSfixedSize(value)
	}
	if flag := opts.FlagName("oneof-sfixed-length"); cmd.IsSet(flag) {
		value := cmd.Int64(flag)
		result.SetOneofSfixedLength(value)
	}
	if flag := opts.FlagName("oneof-is-active"); cmd.IsSet(flag) {
		value := cmd.Bool(flag)
		result.SetOneofIsActive(value)
	}
	if flag := opts.FlagName("oneof-data"); cmd.IsSet(flag) {
		value, err := base64.StdEncoding.DecodeString(cmd.String(flag))
		if err != nil {
			return nil, err
		}
		result.SetOneofData(value)
	}
	if flag := opts.FlagName("oneof-address"); cmd.IsSet(flag) {
		var tmp Address
		if err := protojson.Unmarshal([]byte(cmd.String(flag)), &tmp); err != nil {
			return nil, fmt.Errorf("error unmarshalling \"oneof-address\" flag: %w", err)
		}
		value := &tmp
		result.SetOneofAddress(value)
	}
	return &result, nil
}

// WithOpaqueSchemeTypes registers all Opaque protobuf types with the given scheme
func WithOpaqueSchemeTypes() scheme.Option {
	return func(s *scheme.Scheme) {
		s.RegisterType(File_test_opaque_opaque_proto.Messages().ByName("OpaqueExample"))
		s.RegisterType(File_test_opaque_opaque_proto.Messages().ByName("OpaqueExample").Messages().ByName("ExtraEntry"))
	}
}
