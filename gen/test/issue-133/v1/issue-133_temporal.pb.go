// Code generated by protoc-gen-go_temporal. DO NOT EDIT.
// versions:
//
//	protoc-gen-go_temporal dev (latest)
//	protoc (unknown)
//
// source: test/issue-133/v1/issue-133.proto
package issue_133v1

import (
	"context"
	scheme "github.com/cludden/protoc-gen-go-temporal/pkg/scheme"
	activity "go.temporal.io/sdk/activity"
	converter "go.temporal.io/sdk/converter"
	temporal "go.temporal.io/sdk/temporal"
	worker "go.temporal.io/sdk/worker"
	workflow "go.temporal.io/sdk/workflow"
	"time"
)

// CreateUserWorkflowServiceTaskQueue is the default task-queue for a issue_133.v1.CreateUserWorkflowService worker
var CreateUserWorkflowServiceTaskQueue = "default"

// issue_133.v1.CreateUserWorkflowService activity names
const (
	CreateUserInAPIActivityActivityName = "CreateUserInAPIActivity"
)

// CreateUserWorkflowServiceActivities describes available worker activities
type CreateUserWorkflowServiceActivities interface {
	// issue_133.v1.CreateUserWorkflowService.CreateUserInAPIActivity implements a(n) CreateUserInAPIActivity activity definition
	CreateUserInAPIActivity(ctx context.Context, req *CreateUserInAPIRequest) (*CreateUserInAPIResponse, error)
}

// RegisterCreateUserWorkflowServiceActivities registers activities with a worker
func RegisterCreateUserWorkflowServiceActivities(r worker.ActivityRegistry, activities CreateUserWorkflowServiceActivities) {
	RegisterCreateUserInAPIActivityActivity(r, activities.CreateUserInAPIActivity)
}

// RegisterCreateUserInAPIActivityActivity registers a CreateUserInAPIActivity activity
func RegisterCreateUserInAPIActivityActivity(r worker.ActivityRegistry, fn func(context.Context, *CreateUserInAPIRequest) (*CreateUserInAPIResponse, error)) {
	r.RegisterActivityWithOptions(fn, activity.RegisterOptions{
		Name: CreateUserInAPIActivityActivityName,
	})
}

// CreateUserInAPIActivityFuture describes a(n) CreateUserInAPIActivity activity execution
type CreateUserInAPIActivityFuture struct {
	Future workflow.Future
}

// Get blocks on the activity's completion, returning the response
func (f *CreateUserInAPIActivityFuture) Get(ctx workflow.Context) (*CreateUserInAPIResponse, error) {
	var resp CreateUserInAPIResponse
	if err := f.Future.Get(ctx, &resp); err != nil {
		return nil, err
	}
	return &resp, nil
}

// Select adds the activity's completion to the selector, callback can be nil
func (f *CreateUserInAPIActivityFuture) Select(sel workflow.Selector, fn func(*CreateUserInAPIActivityFuture)) workflow.Selector {
	return sel.AddFuture(f.Future, func(workflow.Future) {
		if fn != nil {
			fn(f)
		}
	})
}

// CreateUserInAPIActivity executes a(n) CreateUserInAPIActivity activity
func CreateUserInAPIActivity(ctx workflow.Context, req *CreateUserInAPIRequest, options ...*CreateUserInAPIActivityActivityOptions) (*CreateUserInAPIResponse, error) {
	return CreateUserInAPIActivityAsync(ctx, req, options...).Get(ctx)
}

// CreateUserInAPIActivityAsync executes a(n) CreateUserInAPIActivity activity (asynchronously)
func CreateUserInAPIActivityAsync(ctx workflow.Context, req *CreateUserInAPIRequest, options ...*CreateUserInAPIActivityActivityOptions) *CreateUserInAPIActivityFuture {
	var o *CreateUserInAPIActivityActivityOptions
	if len(options) > 0 && options[0] != nil {
		o = options[0]
	} else {
		o = NewCreateUserInAPIActivityActivityOptions()
	}
	var err error
	if ctx, err = o.Build(ctx); err != nil {
		errF, errS := workflow.NewFuture(ctx)
		errS.SetError(err)
		return &CreateUserInAPIActivityFuture{Future: errF}
	}
	activity := CreateUserInAPIActivityActivityName
	if o.dc != nil {
		ctx = workflow.WithDataConverter(ctx, o.dc)
	}
	future := &CreateUserInAPIActivityFuture{Future: workflow.ExecuteActivity(ctx, activity, req)}
	return future
}

// CreateUserInAPIActivityLocal executes a(n) CreateUserInAPIActivity activity (locally)
func CreateUserInAPIActivityLocal(ctx workflow.Context, req *CreateUserInAPIRequest, options ...*CreateUserInAPIActivityLocalActivityOptions) (*CreateUserInAPIResponse, error) {
	return CreateUserInAPIActivityLocalAsync(ctx, req, options...).Get(ctx)
}

// CreateUserInAPIActivityLocalAsync executes a(n) CreateUserInAPIActivity activity (asynchronously, locally)
func CreateUserInAPIActivityLocalAsync(ctx workflow.Context, req *CreateUserInAPIRequest, options ...*CreateUserInAPIActivityLocalActivityOptions) *CreateUserInAPIActivityFuture {
	var o *CreateUserInAPIActivityLocalActivityOptions
	if len(options) > 0 && options[0] != nil {
		o = options[0]
	} else {
		o = NewCreateUserInAPIActivityLocalActivityOptions()
	}
	var err error
	if ctx, err = o.Build(ctx); err != nil {
		errF, errS := workflow.NewFuture(ctx)
		errS.SetError(err)
		return &CreateUserInAPIActivityFuture{Future: errF}
	}
	var activity any
	if o.fn != nil {
		activity = o.fn
	} else {
		activity = CreateUserInAPIActivityActivityName
	}
	if o.dc != nil {
		ctx = workflow.WithDataConverter(ctx, o.dc)
	}
	future := &CreateUserInAPIActivityFuture{Future: workflow.ExecuteLocalActivity(ctx, activity, req)}
	return future
}

// CreateUserInAPIActivityActivityOptions provides configuration for a(n) CreateUserInAPIActivity activity
type CreateUserInAPIActivityActivityOptions struct {
	options                workflow.ActivityOptions
	retryPolicy            *temporal.RetryPolicy
	scheduleToCloseTimeout *time.Duration
	startToCloseTimeout    *time.Duration
	dc                     converter.DataConverter
	heartbeatTimeout       *time.Duration
	scheduleToStartTimeout *time.Duration
	taskQueue              *string
	waitForCancellation    *bool
}

// NewCreateUserInAPIActivityActivityOptions initializes a new CreateUserInAPIActivityActivityOptions value
func NewCreateUserInAPIActivityActivityOptions() *CreateUserInAPIActivityActivityOptions {
	return &CreateUserInAPIActivityActivityOptions{}
}

// Build initializes a workflow.Context with appropriate ActivityOptions values derived from schema defaults and any user-defined overrides
func (o *CreateUserInAPIActivityActivityOptions) Build(ctx workflow.Context) (workflow.Context, error) {
	opts := o.options
	if v := o.heartbeatTimeout; v != nil {
		opts.HeartbeatTimeout = *v
	}
	if v := o.retryPolicy; v != nil {
		opts.RetryPolicy = v
	} else if opts.RetryPolicy == nil {
		opts.RetryPolicy = &temporal.RetryPolicy{MaximumAttempts: int32(3)}
	}
	if v := o.scheduleToCloseTimeout; v != nil {
		opts.ScheduleToCloseTimeout = *v
	}
	if v := o.scheduleToStartTimeout; v != nil {
		opts.ScheduleToStartTimeout = *v
	}
	if v := o.startToCloseTimeout; v != nil {
		opts.StartToCloseTimeout = *v
	} else if opts.StartToCloseTimeout == 0 {
		opts.StartToCloseTimeout = 30000000000 // 30 seconds
	}
	if v := o.taskQueue; v != nil {
		opts.TaskQueue = *v
	} else if opts.TaskQueue == "" {
		opts.TaskQueue = CreateUserWorkflowServiceTaskQueue
	}
	if v := o.waitForCancellation; v != nil {
		opts.WaitForCancellation = *v
	}
	return workflow.WithActivityOptions(ctx, opts), nil
}

// WithActivityOptions specifies an initial ActivityOptions value to which defaults will be applied
func (o *CreateUserInAPIActivityActivityOptions) WithActivityOptions(options workflow.ActivityOptions) *CreateUserInAPIActivityActivityOptions {
	o.options = options
	return o
}

// WithDataConverter registers a DataConverter for the (local) activity
func (o *CreateUserInAPIActivityActivityOptions) WithDataConverter(dc converter.DataConverter) *CreateUserInAPIActivityActivityOptions {
	o.dc = dc
	return o
}

// WithHeartbeatTimeout sets the HeartbeatTimeout value
func (o *CreateUserInAPIActivityActivityOptions) WithHeartbeatTimeout(d time.Duration) *CreateUserInAPIActivityActivityOptions {
	o.heartbeatTimeout = &d
	return o
}

// WithRetryPolicy sets the RetryPolicy value
func (o *CreateUserInAPIActivityActivityOptions) WithRetryPolicy(policy *temporal.RetryPolicy) *CreateUserInAPIActivityActivityOptions {
	o.retryPolicy = policy
	return o
}

// WithScheduleToCloseTimeout sets the ScheduleToCloseTimeout value
func (o *CreateUserInAPIActivityActivityOptions) WithScheduleToCloseTimeout(d time.Duration) *CreateUserInAPIActivityActivityOptions {
	o.scheduleToCloseTimeout = &d
	return o
}

// WithScheduleToStartTimeout sets the ScheduleToStartTimeout value
func (o *CreateUserInAPIActivityActivityOptions) WithScheduleToStartTimeout(d time.Duration) *CreateUserInAPIActivityActivityOptions {
	o.scheduleToStartTimeout = &d
	return o
}

// WithStartToCloseTimeout sets the StartToCloseTimeout value
func (o *CreateUserInAPIActivityActivityOptions) WithStartToCloseTimeout(d time.Duration) *CreateUserInAPIActivityActivityOptions {
	o.startToCloseTimeout = &d
	return o
}

// WithTaskQueue sets the TaskQueue value
func (o *CreateUserInAPIActivityActivityOptions) WithTaskQueue(tq string) *CreateUserInAPIActivityActivityOptions {
	o.taskQueue = &tq
	return o
}

// WithWaitForCancellation sets the WaitForCancellation value
func (o *CreateUserInAPIActivityActivityOptions) WithWaitForCancellation(wait bool) *CreateUserInAPIActivityActivityOptions {
	o.waitForCancellation = &wait
	return o
}

// CreateUserInAPIActivityLocalActivityOptions provides configuration for a(n) CreateUserInAPIActivity activity
type CreateUserInAPIActivityLocalActivityOptions struct {
	options                workflow.LocalActivityOptions
	retryPolicy            *temporal.RetryPolicy
	scheduleToCloseTimeout *time.Duration
	startToCloseTimeout    *time.Duration
	dc                     converter.DataConverter
	fn                     func(context.Context, *CreateUserInAPIRequest) (*CreateUserInAPIResponse, error)
}

// NewCreateUserInAPIActivityLocalActivityOptions initializes a new CreateUserInAPIActivityLocalActivityOptions value
func NewCreateUserInAPIActivityLocalActivityOptions() *CreateUserInAPIActivityLocalActivityOptions {
	return &CreateUserInAPIActivityLocalActivityOptions{}
}

// Build initializes a workflow.Context with appropriate LocalActivityOptions values derived from schema defaults and any user-defined overrides
func (o *CreateUserInAPIActivityLocalActivityOptions) Build(ctx workflow.Context) (workflow.Context, error) {
	opts := o.options
	if v := o.retryPolicy; v != nil {
		opts.RetryPolicy = v
	} else if opts.RetryPolicy == nil {
		opts.RetryPolicy = &temporal.RetryPolicy{MaximumAttempts: int32(3)}
	}
	if v := o.scheduleToCloseTimeout; v != nil {
		opts.ScheduleToCloseTimeout = *v
	}
	if v := o.startToCloseTimeout; v != nil {
		opts.StartToCloseTimeout = *v
	} else if opts.StartToCloseTimeout == 0 {
		opts.StartToCloseTimeout = 30000000000 // 30 seconds
	}
	return workflow.WithLocalActivityOptions(ctx, opts), nil
}

// Local specifies a custom CreateUserInAPIActivity implementation
func (o *CreateUserInAPIActivityLocalActivityOptions) Local(fn func(context.Context, *CreateUserInAPIRequest) (*CreateUserInAPIResponse, error)) *CreateUserInAPIActivityLocalActivityOptions {
	o.fn = fn
	return o
}

// WithLocalActivityOptions specifies an initial LocalActivityOptions value to which defaults will be applied
func (o *CreateUserInAPIActivityLocalActivityOptions) WithLocalActivityOptions(options workflow.LocalActivityOptions) *CreateUserInAPIActivityLocalActivityOptions {
	o.options = options
	return o
}

// WithDataConverter registers a DataConverter for the (local) activity
func (o *CreateUserInAPIActivityLocalActivityOptions) WithDataConverter(dc converter.DataConverter) *CreateUserInAPIActivityLocalActivityOptions {
	o.dc = dc
	return o
}

// WithRetryPolicy sets the RetryPolicy value
func (o *CreateUserInAPIActivityLocalActivityOptions) WithRetryPolicy(policy *temporal.RetryPolicy) *CreateUserInAPIActivityLocalActivityOptions {
	o.retryPolicy = policy
	return o
}

// WithScheduleToCloseTimeout sets the ScheduleToCloseTimeout value
func (o *CreateUserInAPIActivityLocalActivityOptions) WithScheduleToCloseTimeout(d time.Duration) *CreateUserInAPIActivityLocalActivityOptions {
	o.scheduleToCloseTimeout = &d
	return o
}

// WithStartToCloseTimeout sets the StartToCloseTimeout value
func (o *CreateUserInAPIActivityLocalActivityOptions) WithStartToCloseTimeout(d time.Duration) *CreateUserInAPIActivityLocalActivityOptions {
	o.startToCloseTimeout = &d
	return o
}

// WithCreateUserWorkflowServiceSchemeTypes registers all CreateUserWorkflowService protobuf types with the given scheme
func WithCreateUserWorkflowServiceSchemeTypes() scheme.Option {
	return func(s *scheme.Scheme) {
		s.RegisterType(File_test_issue_133_v1_issue_133_proto.Messages().ByName("CreateUserInAPIRequest"))
		s.RegisterType(File_test_issue_133_v1_issue_133_proto.Messages().ByName("CreateUserInAPIResponse"))
	}
}
